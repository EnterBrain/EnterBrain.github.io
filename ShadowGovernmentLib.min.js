(function(t){jQuery.fn.lightTabs=function(){return this.each(function(){tabs=this,i=0,showPage=function(o){t(tabs).children("div").children("div").hide(),t(tabs).children("div").children("div").eq(o).show(),t(tabs).children("ul").children("li").removeClass("active"),t(tabs).children("ul").children("li").eq(o).addClass("active")},showPage(0),t(tabs).children("ul").children("li").each(function(o,l){t(l).attr("data-page",i),i++}),t(tabs).children("ul").children("li").click(function(){showPage(parseInt(t(this).attr("data-page")))})})}})(jQuery);function GetCountryNameByFlag(t){var a=t.substring(t.search("-")+1,t.length);return a}function sleep(t){for(var a=new Date().getTime(),r=0;1e7>r&&!(new Date().getTime()-a>t);r++);}var URLAPIRanks="/apiRanks.html",URLAPIRegion="/apiRegions.html",URLAPIMap="/apiMap.html",URLAPIMM="/mobile/monetaryMarket/?page={1}&buyerCurrencyId={2}&sellerCurrencyId={3}",URLAPITax="https://www.cscpro.org/{1}/tax/{2}.jsonp",URLMain="/index.html",URLUserStorage="/storage.html",URLArticle="/article.html",URLNewspaper="/newspaper.html",URLEditArticle="/editArticle.html",URLMyMU="/myMilitaryUnit.html",URLMUMain="/militaryUnit.html?id=",URLMUStorage="/militaryUnitStorage.html",URLMUMoney="/militaryUnitMoneyAccount.html",URLDMUMoney="/donateMoneyToMilitaryUnit.html?id=",URLMUCompanies="/militaryUnitCompanies.html?id=",URLDDonatePlayerProduct="/donateProducts.html?id=",URLDonateMUProduct="/donateProductsToMilitaryUnit.html?id=",URLCompanies="/companies.html",URLCompany="/company.html?id=",URLCompanyDetails="/companyWorkResults.html?id=",URLCompanyAllWorkers="/companyAllWorkers.html?id=",URLCountryEco="/countryEconomyStatistics.html",URLBattle="/battle.html?id=",URLBattleList="/battles.html",URLContracts="/contracts.html",URLContract="/contract.html?id=",URLMarket="/productMarket.html",URLMonetaryMarket="/monetaryMarket.html",URLMarketOffers="/citizenMarketOffers.html",URLJobMarket="/jobMarket.html",URLMyShares="/myShares.html",URLStockCompany="/stockCompany.html?id=",URLStockMM="/stockCompanyMoney.html?id=",URLStockProducts="/stockCompanyProducts.html?id=",URLStockDonateMoney="/stockCompanyDonateMoney.html?id=",URLStockDonateCompany="/stockCompanyDonateCompany.html?id=",URLStockLogs="/stockCompanyLogs.html?id=",URLTravel="/travel.html",URLEquipment="/equipment.html",URLNewCitizen="/newCitizens.html?countryId=0",URLNewCitizenAuto="/newCitizenStatistics.html",URLCitizen="/citizenStatistics.html",URLSearch="/search.html",_COUNTRY_URL="/countryEconomyStatistics.html?countryId={1}",_MM_C_URL="/monetaryMarket.html?buyerCurrencyId={1}&sellerCurrencyId=0",URLBUFF="/specialItems.html",URLNB="/newCitizens.html?countryId=0",URLNewRegisteredCitizen="/newCitizens.html?countryId=0",URLPROFILE="/profile.html",URLDMUProduct="/donateProductsToMilitaryUnit.html?id=",URLDMUComp="/donateCompanyToMilitaryUnit.html?id=",URLMUMEMB="/militaryUnitMembers.html?id=",URLMUCOMP="/militaryUnitCompanies.html?id=",URLSO="/serverOverloaded.html",URLMUDonations="/militaryUnitDonations.html",URLTransactionLog="/transactionLog.html",URLSettings="/editCitizen.html?Settings",URLShadowGovernment="/editCitizen.html?ShadowGovernment",CUST_COUNTRY_URL="https://enterbrain.h1n.ru/countryEconomyStatistics.php?server={1}&countryId={2}&callback=?",CUST_MM_C_URL="https://enterbrain.h1n.ru/monetaryMarket.php?server={1}&buyerCurrencyId={2}&callback=?",IMGIRON="http://cdn.e-sim.org/img/productIcons/Iron.png",IMGGRAIN="http://cdn.e-sim.org/img/productIcons/Grain.png",IMGOIL="http://cdn.e-sim.org/img/productIcons/Oil.png",IMGDIAMONDS="http://cdn.e-sim.org/img/productIcons/Diamonds.png",IMGWOOD="http://cdn.e-sim.org/img/productIcons/Wood.png",IMGSTONE="http://cdn.e-sim.org/img/productIcons/Stone.png",IMGWEAPON="http://cdn.e-sim.org/img/productIcons/Weapon.png",IMGFOOD="http://cdn.e-sim.org/img/productIcons/Food.png",IMGTICKET="http://cdn.e-sim.org/img/productIcons/Ticket.png",IMGGIFT="http://cdn.e-sim.org/img/productIcons/Gift.png",IMGHOUSE="http://cdn.e-sim.org/img/productIcons/House.png",IMGDS="http://cdn.e-sim.org//img/productIcons/Defense%20System.png",IMGHOSPITAL="http://cdn.e-sim.org/img/productIcons/Hospital.png",IMGESTATE="http://cdn.e-sim.org/img/productIcons/Estate.png",IMGQUALITY="http://cdn.e-sim.org/img/productIcons/q",IMGEXTENSION=".png",IMGSMILE="http://cdn.e-sim.org//img/emoticons/smile.png",IMGBIGSMILE="http://cdn.e-sim.org//img/emoticons/bigSmile.png",IMGCIACH="http://cdn.e-sim.org//img/emoticons/ciach.png",IMGTONQUE="http://cdn.e-sim.org//img/emoticons/tongue.png",IMGUNHAPPY="http://cdn.e-sim.org//img/emoticons/unhappy.png",IMGEYE="http://cdn.e-sim.org//img/emoticons/eye.png",IMGFIRSTBTN="https://enterbrain.github.io/img/first.png",IMGPREVBTN="https://enterbrain.github.io/img/prev.png",IMGNEXTBTN="https://enterbrain.github.io/img/next.png",IMGLASTBTN="https://enterbrain.github.io/img/last.png",IMGSTRIPS="https://enterbrain.github.io/img/stripes.png",IMGGOLD="https://enterbrain.github.io/img/gold.png",thumbsUp="https://enterbrain.github.io/img/e00e.png",IMGBUFF="https://enterbrain.github.io/img/20px-Intelligence.png",IMGSH="https://enterbrain.github.io/img/stock_new_chart_next_graph-20.png",IMGTV="https://enterbrain.github.io/img/travels_travel_vector_simple-20.png",IMGMM="https://enterbrain.github.io/img/cash_money_dollar_payment_coins_wallet_register.png",IMGCT="https://enterbrain.github.io/img/newspaper_edit.png",IMGPM="https://enterbrain.github.io/img/Product_basket.png",IMGMU="https://enterbrain.github.io/img/Soldier.png",IMGPACKAGE="https://enterbrain.github.io/img/icon-gift.gif",IMGDOLLAR="https://enterbrain.github.io/img/currency_dollar_pound_money-20.png",IMGEQUIPMENT="https://enterbrain.github.io/img/shield_silver.png",IMGCOMPANY="https://enterbrain.github.io/img/Factory.png",IMGONLINE="https://enterbrain.github.io/img/newOnline.png",IMGOFFLINE="https://enterbrain.github.io/img/newOffline.png",IMGPRODBG="https://enterbrain.github.io/img/productIcons/productIconsBackground.png",IMGCRITICAL="https://enterbrain.github.io/img/equipmentIcons/criticalHit.png",IMGMISS="https://enterbrain.github.io/img/equipmentIcons/reduceMiss.png",IMGAVOID="https://enterbrain.github.io/img/equipmentIcons/avoidDamage.png",IMGLOAD="https://enterbrain.github.io/img/WorkInProgress.gif",noDebuff="https://enterbrain.github.io/img/ok.png",IMGLOADBAR="https://enterbrain.github.io/img/loading_bar.gif",IMGDMUMy="https://enterbrain.github.io/img/help-donate_32.png",IMGDMUPR="https://enterbrain.github.io/img/TreasureChest.png",IMGDMUCP="https://enterbrain.github.io/img/Factory_company_production.png",IMGMUMEMB="https://enterbrain.github.io/img/members.gif",IMGMUCOMP="https://enterbrain.github.io/img/Bldg-RocketFactory.png",IMGBUBL="https://enterbrain.github.io/img/newspaper_edit.png",IDByImageCountry={Poland:1,Russia:2,Germany:3,France:4,Spain:5,"United-Kingdom":6,Italy:7,Hungary:8,Romania:9,Bulgaria:10,Serbia:11,Croatia:12,"Bosnia-and-Herzegovina":13,Greece:14,"Republic-of-Macedonia":15,Ukraine:16,Sweden:17,Portugal:18,Lithuania:19,Latvia:20,Slovenia:21,Turkey:22,Brazil:23,Argentina:24,Mexico:25,USA:26,Canada:27,China:28,Indonesia:29,Iran:30,"South-Korea":31,Taiwan:32,Israel:33,India:34,Australia:35,Netherlands:36,Finland:37,Ireland:38,Switzerland:39,Belgium:40,Pakistan:41,Malaysia:42,Norway:43,Peru:44,Chile:45,Colombia:46,Montenegro:47,Austria:48,Slovakia:49,Denmark:50,"Czech-Republic":51,Belarus:52,Estonia:53,Philippines:54,Albania:55,Venezuela:56,Egypt:57,Japan:58,Bangladesh:59,Vietnam:60,Yemen:61,"Saudi-Arabia":62,Thailand:63,Algeria:64,Angola:65,Cameroon:66,"Ivory-Coast":67,Ethiopia:68,Ghana:69,Kenya:70,Libya:71,Morocco:72,Mozambique:73,Nigeria:74,Senegal:75,"South-Africa":76,Sudan:77,Tanzania:78,Togo:79,Tunisia:80,Uganda:81,Zambia:82,Zimbabwe:83,Botswana:84,Benin:85,"Burkina-Faso":86,Congo:87,"Central-African-Republic":88,"DR-of-the-Congo":89,Eritrea:90,Gabon:91,Chad:92,Niger:93,Mali:94,Mauritania:95,Guinea:96,"Guinea-Bissau":97,"Sierra-Leone":98,Liberia:99,"Equatorial-Guinea":100,Namibia:101,Lesotho:102,Swaziland:103,Madagascar:104,Malawi:105,Somalia:106,Djibouti:107,Rwanda:108,Burundi:109,"United-Arab-Emirates":110,Syria:111,Iraq:112,Oman:113,Qatar:114,Jordan:115,"Western-Sahara":116,"The-Gambia":117,"South-Sudan":118,Cambodia:119,Nepal:120,Bolivia:121,Ecuador:122,Paraguay:123,Uruguay:124,Honduras:125,"Dominican-Republic":126,Guatemala:127,Kazakhstan:128,"Sri-Lanka":129,Afghanistan:130,Armenia:131,Azerbaijan:132,Georgia:133,Kyrgyzstan:134,Laos:135,Tajikistan:136,Turkmenistan:137,Uzbekistan:138,"New-Zealand":139,Guyana:140,Suriname:141,Nicaragua:142,Panama:143,"Costa-Rica":144,Mongolia:145,"Papua-New-Guinea":146,Cuba:147,Lebanon:148,"Puerto-Rico":149,Moldova:150,Jamaica:151,"El-Salvador":152,Haiti:153,Bahrain:154,Kuwait:155,Cyprus:156,Belize:157,Kosovo:158,"East-Timor":159,Bahamas:160,"Solomon-Islands":161,Myanmar:162,"North-Korea":163,Bhutan:164,Iceland:165,Vanuatu:166,"Soviet-Union":169,Czechoslovakia:170,Yugoslavia:171,"Weimar-Republic":172,"Republic-Of-China":173,Persia:174,Adminland:777},ImageCountryByID={1:"Poland",2:"Russia",3:"Germany",4:"France",5:"Spain",6:"United-Kingdom",7:"Italy",8:"Hungary",9:"Romania",10:"Bulgaria",11:"Serbia",12:"Croatia",13:"Bosnia-and-Herzegovina",14:"Greece",15:"Republic-of-Macedonia",16:"Ukraine",17:"Sweden",18:"Portugal",19:"Lithuania",20:"Latvia",21:"Slovenia",22:"Turkey",23:"Brazil",24:"Argentina",25:"Mexico",26:"USA",27:"Canada",28:"China",29:"Indonesia",30:"Iran",31:"South-Korea",32:"Taiwan",33:"Israel",34:"India",35:"Australia",36:"Netherlands",37:"Finland",38:"Ireland",39:"Switzerland",40:"Belgium",41:"Pakistan",42:"Malaysia",43:"Norway",44:"Peru",45:"Chile",46:"Colombia",47:"Montenegro",48:"Austria",49:"Slovakia",50:"Denmark",51:"Czech-Republic",52:"Belarus",53:"Estonia",54:"Philippines",55:"Albania",56:"Venezuela",57:"Egypt",58:"Japan",59:"Bangladesh",60:"Vietnam",61:"Yemen",62:"Saudi-Arabia",63:"Thailand",64:"Algeria",65:"Angola",66:"Cameroon",67:"Ivory-Coast",68:"Ethiopia",69:"Ghana",70:"Kenya",71:"Libya",72:"Morocco",73:"Mozambique",74:"Nigeria",75:"Senegal",76:"South-Africa",77:"Sudan",78:"Tanzania",79:"Togo",80:"Tunisia",81:"Uganda",82:"Zambia",83:"Zimbabwe",84:"Botswana",85:"Benin",86:"Burkina-Faso",87:"Congo",88:"Central-African-Republic",89:"DR-of-the-Congo",90:"Eritrea",91:"Gabon",92:"Chad",93:"Niger",94:"Mali",95:"Mauritania",96:"Guinea",97:"Guinea-Bissau",98:"Sierra-Leone",99:"Liberia",100:"Equatorial-Guinea",101:"Namibia",102:"Lesotho",103:"Swaziland",104:"Madagascar",105:"Malawi",106:"Somalia",107:"Djibouti",108:"Rwanda",109:"Burundi",110:"United-Arab-Emirates",111:"Syria",112:"Iraq",113:"Oman",114:"Qatar",115:"Jordan",116:"Western-Sahara",117:"The-Gambia",118:"South-Sudan",119:"Cambodia",120:"Nepal",121:"Bolivia",122:"Ecuador",123:"Paraguay",124:"Uruguay",125:"Honduras",126:"Dominican-Republic",127:"Guatemala",128:"Kazakhstan",129:"Sri-Lanka",130:"Afghanistan",131:"Armenia",132:"Azerbaijan",133:"Georgia",134:"Kyrgyzstan",135:"Laos",136:"Tajikistan",137:"Turkmenistan",138:"Uzbekistan",139:"New-Zealand",140:"Guyana",141:"Suriname",142:"Nicaragua",143:"Panama",144:"Costa-Rica",145:"Mongolia",146:"Papua-New-Guinea",147:"Cuba",148:"Lebanon",149:"Puerto-Rico",150:"Moldova",151:"Jamaica",152:"El-Salvador",153:"Haiti",154:"Bahrain",155:"Kuwait",156:"Cyprus",157:"Belize",158:"Kosovo",159:"East-Timor",160:"Bahamas",161:"Solomon-Islands",162:"Myanmar",163:"North-Korea",164:"Bhutan",165:"Iceland",166:"Vanuatu",169:"Soviet-Union",170:"Czechoslovakia",171:"Yugoslavia",172:"Weimar-Republic",173:"Republic-Of-China",174:"Persia",777:"Adminland"},CCbyID={0:"Gold",1:"PLN",2:"RUB",3:"DEM",4:"FRF",5:"ESP",6:"GBP",7:"ITL",8:"HUF",9:"RON",10:"BGN",11:"RSD",12:"HRK",13:"BAM",14:"GRD",15:"MKD",16:"UAH",17:"SEK",18:"PTE",19:"LTL",20:"LVL",21:"SIT",22:"TRY",23:"BRL",24:"ARS",25:"MXN",26:"USD",27:"CAD",28:"CNY",29:"IDR",30:"IRR",31:"KRW",32:"TWD",33:"NIS",34:"INR",35:"AUD",36:"NLG",37:"FIM",38:"IEP",39:"CHF",40:"BEF",41:"PKR",42:"MYR",43:"NOK",44:"PEN",45:"CLP",46:"COP",47:"MEP",48:"ATS",49:"SKK",50:"DKK",51:"CZK",52:"BYR",53:"EEK",54:"PHP",55:"ALL",56:"VEF",57:"EGP",58:"JPY",59:"BDT",60:"VND",61:"YER",62:"SAR",63:"THB",64:"DZD",65:"AOA",66:"CM",67:"CI",68:"ETB",69:"GHS",70:"KES",71:"LYD",72:"MAD",73:"MZN",74:"NGN",75:"SN",76:"ZAR",77:"SDG",78:"TZS",79:"TG",80:"TND",81:"UGX",82:"ZMW",83:"ZWL",84:"BWP",85:"BJ",86:"BF",87:"CG",88:"CF",89:"CDF",90:"ERN",91:"GA",92:"TD",93:"NE",94:"ML",95:"MRO",96:"GNF",97:"GW",98:"SLL",99:"LRD",100:"GQ",101:"NAD",102:"LSL",103:"SZL",104:"MGA",105:"MWK",106:"SOS",107:"DJF",108:"RWF",109:"BIF",110:"AED",111:"SYP",112:"IQD",113:"OMR",114:"QAR",115:"JOD",116:"EH",117:"GMD",118:"SSP",119:"KHR",120:"NPR",121:"BOB",122:"ECD",123:"PYG",124:"UYU",125:"HNL",126:"DOP",127:"GTQ",128:"KZT",129:"LKR",130:"AFN",131:"AMD",132:"AZN",133:"GEL",134:"KGS",135:"LAK",136:"TJS",137:"TMT",138:"UZS",139:"NZD",140:"GYT",141:"SRD",142:"NIO",143:"PAB",144:"CRC",145:"MNT",146:"PGK",147:"CUC",148:"LBP",149:"PRD",150:"MDL",151:"JMD",152:"SVD",153:"HTG",154:"BHD",155:"KWD",156:"CY",157:"BZD",158:"XKD",159:"TLD",160:"BSD",161:"SBD",162:"MMK",163:"KPW",164:"BTN",165:"ISK",166:"VUT",169:"SUR",170:"CS",171:"YUG",172:"WER",173:"CN",174:"PRS",777:"undefined"},IDbyCC={Gold:0,PLN:1,RUB:2,DEM:3,FRF:4,ESP:5,GBP:6,ITL:7,HUF:8,RON:9,BGN:10,RSD:11,HRK:12,BAM:13,GRD:14,MKD:15,UAH:16,SEK:17,PTE:18,LTL:19,LVL:20,SIT:21,TRY:22,BRL:23,ARS:24,MXN:25,USD:26,CAD:27,CNY:28,IDR:29,IRR:30,KRW:31,TWD:32,NIS:33,INR:34,AUD:35,NLG:36,FIM:37,IEP:38,CHF:39,BEF:40,PKR:41,MYR:42,NOK:43,PEN:44,CLP:45,COP:46,MEP:47,ATS:48,SKK:49,DKK:50,CZK:51,BYR:52,EEK:53,PHP:54,ALL:55,VEF:56,EGP:57,JPY:58,BDT:59,VND:60,YER:61,SAR:62,THB:63,DZD:64,AOA:65,CM:66,CI:67,ETB:68,GHS:69,KES:70,LYD:71,MAD:72,MZN:73,NGN:74,SN:75,ZAR:76,SDG:77,TZS:78,TG:79,TND:80,UGX:81,ZMW:82,ZWL:83,BWP:84,BJ:85,BF:86,CG:87,CF:88,CDF:89,ERN:90,GA:91,TD:92,NE:93,ML:94,MRO:95,GNF:96,GW:97,SLL:98,LRD:99,GQ:100,NAD:101,LSL:102,SZL:103,MGA:104,MWK:105,SOS:106,DJF:107,RWF:108,BIF:109,AED:110,SYP:111,IQD:112,OMR:113,QAR:114,JOD:115,EH:116,GMD:117,SSP:118,KHR:119,NPR:120,BOB:121,ECD:122,PYG:123,UYU:124,HNL:125,DOP:126,GTQ:127,KZT:128,LKR:129,AFN:130,AMD:131,AZN:132,GEL:133,KGS:134,LAK:135,TJS:136,TMT:137,UZS:138,NZD:139,GYT:140,SRD:141,NIO:142,PAB:143,CRC:144,MNT:145,PGK:146,CUC:147,LBP:148,PRD:149,MDL:150,JMD:151,SVD:152,HTG:153,BHD:154,KWD:155,CY:156,BZD:157,XKD:158,TLD:159,BSD:160,SBD:161,MMK:162,KPW:163,BTN:164,ISK:165,VUT:166,SUR:169,CS:170,YUG:171,WER:172,CN:173,PRS:174,undefined:777},TaxNameByID={1:"iron",2:"grain",3:"oil",4:"stone",5:"wood",6:"diamonds",7:"weapon",8:"house",9:"gift",10:"food",11:"ticket",12:"defense system",13:"hospital",14:"estate"},TaxNameByAPI={iron:"iron",grain:"grain",oil:"oil",stone:"stone",wood:"wood",diamonds:"diamonds",weapon:"weapon",house:"house",gift:"gift",food:"food",ticket:"ticket",ds:"defense system",hospital:"hospital",estate:"estate"},LangByCC={"United-Kingdom":"English",Albania:"Albanian",Egypt:"Arabic",Armenia:"Armenian",Bangladesh:"Bengali","Bosnia-and-Herzegovina":"Bosnian",Brazil:"Brazilian",Bulgaria:"Bulgarian",China:"Chinese",Croatia:"Croatian","Czech-Republic":"Czech",Netherlands:"Dutch",Estonia:"Estonian",Philippines:"Filipino",France:"French",Georgia:"Georgian",Germany:"German",Greece:"Greek",Israel:"Hebrew",Hungary:"Hungarian",Indonesia:"Indonesian",Italy:"Italian",Latvia:"Latvian",Lithuania:"Lithuanian","Republic-of-Macedonia":"Macedonian",Montenegro:"Montenegrin",Iran:"Persian",Poland:"Polish",Portugal:"Portuguese",Romania:"Romanian",Russia:"Russian",Serbia:"Serbian",Slovakia:"Slovakian",Slovenia:"Slovenian",Spain:"Spanish",Sweden:"Swedish",Taiwan:"TraditionalChinese",Turkey:"Turkish",Ukraine:"Ukrainian",Vietnam:"Vietnamese",Azerbaijan:"Azerbaijani",Denmark:"Danish",Finland:"Finnish",India:"Hindi",Japan:"Japanese",Cambodia:"Khmer","South-Korea":"Korean",Malaysia:"Malaysian",Mongolia:"Mongolian",Nepal:"Nepali",Norway:"Norwegian",Silesia:"Silesian",Thailand:"Thai"},SentManyMotivationsToday={English:"You have sent too many motivations today",Albanian:"Ju keni d\xEBrguar shum\xEB motivime sot",Arabic:"\u0644\u0642\u062F \u0627\u0631\u0633\u0644\u062A \u062A\u0634\u062C\u064A\u0639\u0627\u062A \u0627\u0643\u062B\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645 \u0627\u0644\u064A\u0648\u0645",Armenian:"\u0531\u0575\u057D\u0585\u0580\u057E\u0561 \u0570\u0561\u0574\u0561\u0580 \u0562\u0561\u057E\u0561\u056F\u0561\u0576\u056B\u0576 \u0574\u0578\u057F\u056B\u057E\u0561\u0581\u056B\u0578\u0576 \u0583\u0561\u0569\u0565\u0569\u0576\u0565\u0580 \u0565\u0584 \u0578\u0582\u0572\u0561\u0580\u056F\u0565\u056C",Bengali:"\u0986\u09AA\u09A8\u09BF \u0986\u099C \u0985\u09A8\u09C7\u0995 \u09AC\u09C7\u09B6\u09BF \u0985\u09A8\u09C1\u09AA\u09CD\u09B0\u09C7\u09B0\u09A8\u09BE \u09A6\u09BF\u09DF\u09C7\u099B\u09C7\u09A8",Bosnian:"Poslali ste previ\u0161e motivacija danas",Brazilian:"Voc\xEA j\xE1 mandou muitas motiva\xE7\xF5es hoje",Bulgarian:"\u0418\u0437\u043F\u0440\u0430\u0442\u0438\u0445\u0442\u0435 \u0442\u0432\u044A\u0440\u0434\u0435 \u043C\u043D\u043E\u0433\u043E \u043C\u043E\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u0434\u043D\u0435\u0441",Chinese:"\u4F60\u4ECA\u5929\u53D1\u9001\u7684\u6FC0\u52B1\u8FC7\u591A",Croatian:"Poslali ste previ\u0161e motivacija danas",Czech:"Dnes si poslal p\u0159\xEDli\u0161 mnoho motivac",Dutch:"Je hebt te veel motivaties gegeven vandaag",Estonian:"Sa oled saatnud t\xE4na liiga palju motivatsioone",Filipino:"Nakapagpadala ka na ng napakaraming pagganyak ngayon",French:"Vous avez envoyer trop de paquets de motivations pour aujourd'hui",Georgian:"You have sent too many motivations today",German:"Du kannst f\xFCr heute keine weiteren Motivationspakete verteilen",Greek:"\u0388\u03C7\u03B5\u03C4\u03B5 \u03C3\u03C4\u03B5\u03AF\u03BB\u03B5\u03B9 \u03C0\u03AC\u03C1\u03B1 \u03C0\u03BF\u03BB\u03BB\u03AD\u03C2 \u03C0\u03B1\u03C1\u03B1\u03BA\u03B9\u03BD\u03AE\u03C3\u03B5\u03B9\u03C2 \u03C3\u03AE\u03BC\u03B5\u03C1\u03B1",Hebrew:"\u05E9\u05DC\u05D7\u05EA \u05D9\u05D5\u05EA\u05E8 \u05DE\u05D3\u05D9 \u05D7\u05D1\u05D9\u05DC\u05D5\u05EA \u05DE\u05D5\u05D8\u05D9\u05D1\u05E6\u05D9\u05D4 \u05D4\u05D9\u05D5\u05DD",Hungarian:"T\xFAl sok motiv\xE1ci\xF3t k\xFCldt\xE9k ma",Indonesian:"Kamu sudah mengirimkan terlalu banyak motivasi hari ini",Italian:"Oggi hai mandato troppi incentivi",Latvian:"Tu \u0161odien esi izs\u016Bt\u012Bjis p\u0101r\u0101k daudz motiv\u0101cijas",Lithuanian:"J\u016Bs jau i\u0161siunt\u0117te per daug motivacij\u0173 \u0161iandien",Macedonian:"\u0418\u043C\u0430\u0448 \u0438\u0441\u043F\u0440\u0430\u0442\u0435\u043D\u043E \u043F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u043E\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u0437\u0430 \u0434\u0435\u043D\u0435\u0441",Montenegrin:"Poslali ste previ\u0161e motivacija danas",Persian:"\u0634\u0645\u0627 \u0627\u0645\u0631\u0648\u0632 \u062A\u0642\u0648\u06CC\u062A \u0632\u06CC\u0627\u062F\u06CC \u0641\u0631\u0633\u062A\u0627\u062F\u0647 \u0627\u06CC\u062F",Polish:"Wys\u0142a\u0142e\u015B dzisiaj zbyt wiele motywacji",Portuguese:"J\xE1 mandaste demasiadas motiva\xE7\xF5es hoje",Romanian:"Ai trimis prea multe motiv\u0103ri ast\u0103zi",Russian:"\u0412\u044B \u043E\u0442\u043F\u0440\u0430\u0432\u0438\u043B\u0438 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u043D\u043E\u0433\u043E \u043C\u043E\u0442\u0438\u0432\u0430\u0446\u0438\u0439 \u0441\u0435\u0433\u043E\u0434\u043D\u044F",Serbian:"\u041F\u043E\u0441\u043B\u0430\u043B\u0438 \u0441\u0442\u0435 \u043F\u0440\u0435\u0432\u0438\u0448\u0435 \u043C\u043E\u0442\u0438\u0432\u0430\u0446\u0438\u0458\u0430 \u0434\u0430\u043D\u0430\u0441",Slovakian:"Dnes si poslal pr\xEDli\u0161 ve\u013Ea motiv\xE1ci\xED",Slovenian:"Danes ste poslali preve\u010D motivacij",Spanish:"Has enviado demasiadas motivaciones hoy",Swedish:"Du har skickat f\xF6r m\xE5nga motivationspaket idag",TraditionalChinese:"\u60A8\u4ECA\u5929\u5DF2\u7D93\u9001\u51FA\u592A\u591A\u6FC0\u52F5\u54C1",Turkish:"Bug\xFCn \xE7ok fazla motivasyon g\xF6nderdiniz",Ukrainian:"\u0412\u0438 \u043D\u0430\u0434\u0442\u043E \u0449\u0435\u0434\u0440\u0438\u0439",Vietnamese:"B\u1EA1n g\u1EEDi qu\xE1 nhi\u1EC1u \u0111\u1ED9ng l\u1EF1c h\xF4m nay",Azerbaijani:"You have sent too many motivations today",Danish:"You have sent too many motivations today",Finnish:"You have sent too many motivations today",Hindi:"You have sent too many motivations today",Japanese:"You have sent too many motivations today",Khmer:"You have sent too many motivations today",Korean:"\uB2F9\uC2E0\uC740 \uC624\uB298 \uB108\uBB34 \uB9CE\uC740 \uC120\uBB3C\uC744 \uBCF4\uB0C8\uC5B4\uC694",Malaysian:"You have sent too many motivations today",Mongolian:"You have sent too many motivations today",Nepali:"You have sent too many motivations today",Norwegian:"You have sent too many motivations today",Silesian:"You have sent too many motivations today",Thai:"You have sent too many motivations today"},succesfullyMotivated={English:"Motivation package sent succesfully! You've been awarded 1 food limit point",Albanian:"Paketa e motivimit \xEBsht\xEB d\xEBrguar me sukses! Ju jeni shp\xEBrblyer me 1 limit t\xEB ushqimit",Arabic:"\u0645\u062C\u0645\u0648\u0639\u0629 \u0627\u0644\u062A\u0631\u062D\u064A\u0628 \u062A\u0645 \u0627\u0631\u0633\u0627\u0644\u0647\u0627 \u0628\u0646\u062C\u0627\u062D. \u0648\u0627\u0646\u062A \u062A\u0645 \u0645\u0643\u0627\u0641\u0626\u062A\u0643 \u0628\u0632\u064A\u0627\u062F\u0629 \u062D\u062F \u0627\u0644\u0627\u0643\u0644 \u0628\u0646\u0642\u0637\u0629 \u0648\u0627\u062D\u062F\u0629",Armenian:"\u0544\u0578\u057F\u056B\u057E\u0561\u0581\u056B\u0578\u0576 \u0583\u0561\u0569\u0565\u0569\u0576 \u0578\u0582\u0572\u0561\u0580\u056F\u057E\u0565\u0581. \u057D\u057F\u0561\u0581\u0561\u0584 \u0574\u0565\u056F \u0570\u0561\u057E\u0565\u056C\u0575\u0561\u056C \u057D\u0576\u0576\u0564\u056B \u056C\u056B\u0574\u056B\u057F\u056B \u0574\u056B\u0561\u057E\u0578\u0580",Bengali:"\u0985\u09A8\u09C1\u09AA\u09CD\u09B0\u09C7\u09B0\u09A8\u09BE\u09B0 \u09AA\u09CD\u09AF\u09BE\u0995\u09C7\u099C \u09B8\u09AB\u09B2 \u09AD\u09BE\u09AC\u09C7 \u09AA\u09BE\u09A0\u09BE\u09A8\u09CB \u09B9\u09DF\u09C7\u099B\u09C7\u0964 \u0986\u09AA\u09A8\u09BF 1 \u0996\u09BE\u09A6\u09CD\u09AF\u09B8\u09C0\u09AE\u09BE \u09AA\u09C7\u09DF\u09C7\u099B\u09C7\u09A8",Bosnian:"Motivacijski paket uspje\u0161no poslat! Nagra\u0111eni ste 1 limitom hrane",Brazilian:"Pacote de motiva\xE7\xE3o enviado com sucesso! Voc\xEA foi premiado com +1 no seu limite de comida.",Bulgarian:"\u041C\u043E\u0442\u0438\u0432\u0430\u0446\u0438\u044F\u0442\u0430 \u0431\u0435\u0448\u0435 \u0438\u0437\u043F\u0440\u0430\u0442\u0435\u043D\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E! \u041D\u0430\u0433\u0440\u0430\u0434\u0435\u043D\u0438 \u0441\u0442\u0435 \u0441 1 \u043B\u0438\u043C\u0438\u0442 \u0437\u0430 \u0445\u0440\u0430\u043D\u0430",Chinese:"\u6210\u529F\u53D1\u9001\u6FC0\u52B1\u5305\uFF01\u4F60\u5F97\u52301\u4E2A\u98DF\u7269\u4E0A\u9650\u70B9",Croatian:"Motivacijski paket uspje\u0161no poslat! Nagra\u0111eni ste 1 dodatnim limitom hrane",Czech:"Motiva\u010Dn\xED bal\xED\u010Dek byl \xFAsp\u011B\u0161n\u011B poslan\xFD! Byl jsi odm\u011Bn\u011Bn\xFD 1 limitem na j\xEDdlo nav\xEDc",Dutch:"Motivatie pakket is succesvol verzonden! Je bent beloond met 1 voedsel limiet punt",Estonian:"Motivatsioonipakett edukalt saadetud! Sinu toidulimiit kasvas +1 v\xF5rra",Filipino:"Matagumpay na naipadala ang pakete ng pagganyak! Ikaw ay ginawaran ng 1 puntos sa hangganan sa pagkain",French:"Le pack de motivation a \xE9t\xE9 correctement envoy\xE9 ! Vous obtenez 1 point de limite de nourriture",Georgian:"Motivation package sent succesfully! You've been awarded 1 food limit point",German:"Motivationspaket wurde erfolgreich gesendet! Du wurdest mit 1 Essenslimitpunkt belohnt",Greek:"\u03A4\u03BF \u03C0\u03B1\u03BA\u03AD\u03C4\u03BF \u03BA\u03B9\u03BD\u03AE\u03C4\u03C1\u03BF\u03C5 \u03C3\u03C4\u03AC\u03BB\u03B8\u03B7\u03BA\u03B5 \u03B5\u03C0\u03B9\u03C4\u03C5\u03C7\u03CE\u03C2! \u0391\u03C5\u03BE\u03AE\u03B8\u03B7\u03BA\u03B5 \u03BA\u03B1\u03C4\u03AC 1 \u03C4\u03BF \u03CC\u03C1\u03B9\u03BF \u03C4\u03C1\u03BF\u03C6\u03AE\u03C2.",Hebrew:"\u05D7\u05D1\u05D9\u05DC\u05EA \u05DE\u05D5\u05D8\u05D9\u05D1\u05E6\u05D9\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4! \u05E0\u05D5\u05E1\u05E3 \u05DC\u05DA \u05DE\u05E7\u05D5\u05DD \u05E0\u05D5\u05E1\u05E3 \u05DC\u05D0\u05D5\u05DB\u05DC",Hungarian:"Motiv\xE1ci\xF3s csomag sikeresen elk\xFCldve! Jutalmad 1 \xE9lel korl\xE1t pont",Indonesian:"Paket motivasi sudah dikirim dengan sukses! Kamu sudah diberikan 1 limit food tambahan",Italian:"Incentivi inviati con successo! Sei stato ricompensato con 1 limite di Cibo extra",Latvian:"Motiv\u0101cijas maisi\u0146\u0161 bija veiksm\u012Bgi aizs\u016Bt\u012Bts! Jums pie\u0161\u0137\u012Bra 1 \u0113diena limita punktu",Lithuanian:"Motyvacinis paketas s\u0117kmingai i\u0161si\u0173stas. J\u016Bs buvote apdovanotas papildomu 1 maisto limitu",Macedonian:"\u041C\u043E\u0442\u0438\u0432\u0430\u0446\u0438\u043E\u043D\u0438\u043E\u0442 \u043F\u0430\u043A\u0435\u0442 \u0435 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043F\u0440\u0430\u0442\u0435\u043D! \u0411\u0435\u0448\u0435 \u043D\u0430\u0433\u0440\u0430\u0434\u0435\u043D \u0441\u043E \u043F\u043B\u0443\u0441 1 \u043B\u0438\u043C\u0438\u0442 \u0437\u0430 \u0445\u0440\u0430\u043D\u0430",Montenegrin:"Motivacioni paket poslat uspje\u0161no! Bi\u0107ete nagra\u0111eni sa 1 limitom hrane",Persian:"\u0628\u0633\u062A\u0647 \u062A\u0642\u0648\u06CC\u062A\u06CC \u0628\u0627 \u0645\u0648\u0641\u0642\u06CC\u062A \u0641\u0631\u0633\u062A\u0627\u062F\u0647 \u0634\u062F. \u06CC\u06A9 \u0644\u06CC\u0645\u06CC\u062A \u0645\u0648\u0627\u062F \u063A\u0630\u0627\u06CC\u06CC \u0628\u0647 \u0634\u0645\u0627 \u0627\u0639\u0637\u0627 \u0634\u062F",Polish:"Pakiet motywacyjny zosta\u0142 wys\u0142any. Powi\u0119kszyli\u015Bmy Tw\xF3j limit jedzenia o 1 punkt.",Portuguese:"O Pacote de motiva\xE7\xE3o foi enviado! Foi adicionado um ponto no limite de comida",Romanian:"Pachetul de motivare a fost trimis cu succes! Ai fost recompensat cu 1 punct de limit\u0103 la hran\u0103",Russian:"\u041C\u043E\u0442\u0438\u0432\u0430\u0446\u0438\u043E\u043D\u043D\u044B\u0439 \u043F\u043E\u0434\u0430\u0440\u043E\u043A \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D! \u0412\u044B \u0443\u0434\u043E\u0441\u0442\u043E\u0435\u043D\u044B 1 \u0434\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0433\u043E \u043B\u0438\u043C\u0438\u0442\u0430 \u043D\u0430 \u0435\u0434\u0443",Serbian:"\u041C\u043E\u0442\u0438\u0432\u0430\u0446\u0438\u043E\u043D\u0438 \u043F\u0430\u043A\u0435\u0442 \u043F\u043E\u0441\u043B\u0430\u0442 \u0443\u0441\u043F\u0435\u0448\u043D\u043E. \u041D\u0430\u0433\u0440\u0430\u0452\u0435\u043D\u0438 \u0441\u0442\u0435 \u0441\u0430 1 \u043B\u0438\u043C\u0438\u0442\u043E\u043C \u0445\u0440\u0430\u043D\u0435",Slovakian:"Motiva\u010Dn\xFD bal\xED\u010Dek bol \xFAspe\u0161ne odoslan\xFD! Bol si odmenen\xFD 1 limitom na jedlo",Slovenian:"Motivacijski paket je poslan uspe\u0161no. Nagrajeni ste z 1 to\u010Dko limita hrane",Spanish:"\xA1Paquete de motivaci\xF3n enviado con \xE9xito! Obtienes 1 punto en el limite de panes",Swedish:"Motivationspaket s\xE4ndes! Du har blivit bel\xF6nad med 1 matpo\xF6ng",TraditionalChinese:"\u6FC0\u52F5\u5305\u88F9\u767C\u9001\u6210\u529F\uFF01\u4F60\u5F97\u5230\u4E86\u4E00\u55AE\u4F4D\u7684\u98DF\u7269\u4E0A\u9650\u3002",Turkish:"Motivasyon paketi ba\u015Far\u0131l\u0131 bir \u015Fekilde g\xF6nderildi!Fazladan 1 ekmek hakk\u0131 ile \xF6d\xFCllendirildiniz",Ukrainian:"\u041C\u043E\u0442\u0438\u0432\u0430\u0446\u0456\u0439\u043D\u0443 \u043F\u043E\u0441\u0438\u043B\u043A\u0443 \u0443\u0441\u043F\u0456\u0448\u043D\u043E \u043D\u0430\u0434\u0456\u0441\u043B\u0430\u043D\u043E! \u0412\u0430\u0441 \u0432\u0438\u043D\u0430\u0433\u043E\u0440\u043E\u0434\u0436\u0435\u043D\u043E \u0437\u0431\u0456\u043B\u044C\u0448\u0435\u043D\u043D\u044F\u043C \u043B\u0456\u043C\u0456\u0442\u0443 \u0432\u0436\u0438\u0432\u0430\u043D\u043D\u044F \u0457\u0436\u0456 \u043D\u0430 1",Vietnamese:"H\xE0ng \u0111\u1ED9ng vi\xEAn \u0111\xE3 \u0111\u01B0\u1EE3c g\u1EEDi th\xE0nh c\xF4ng! B\u1EA1n \u0111\u01B0\u1EE3c th\u01B0\u1EDFng 1 \u0111i\u1EC3m limit \u0103n b\xE1nh",Azerbaijani:"Motivation package sent succesfully! You've been awarded 1 food limit point",Danish:"Motivation package sent succesfully! You've been awarded 1 food limit point",Finnish:"Motivaatiopaketti l\xE4hetetty onnistuneesti! Sinut on palkittu 1 ruokarajoituspisteell\xE4",Hindi:"\u092A\u094D\u0930\u0947\u0930\u0923\u093E \u092A\u0948\u0915\u0947\u091C \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u092D\u0947\u091C\u093E! \u0906\u092A 1 \u0916\u093E\u0926\u094D\u092F \u0938\u0940\u092E\u093E \u092C\u093F\u0902\u0926\u0941 \u0938\u0947 \u0938\u092E\u094D\u092E\u093E\u0928\u093F\u0924 \u0915\u093F\u092F\u093E \u0917\u092F\u093E \u0939\u0948",Japanese:"Motivation package sent succesfully! You've been awarded 1 food limit point",Khmer:"Motivation package sent succesfully! You've been awarded 1 food limit point",Korean:"\uB3D9\uAE30\uBD80\uC5EC \uD328\uD0A4\uC9C0\uAC00 \uC131\uACF5\uC801\uC73C\uB85C \uBC1C\uC1A1\uB418\uC5C8\uC2B5\uB2C8\uB2E4! \uC74C\uC2DD \uC12D\uCDE8\uD55C\uB3C4\uAC00 1 \uB298\uC5B4\uB0AC\uC2B5\uB2C8\uB2E4.",Malaysian:"Motivation package sent succesfully! You've been awarded 1 food limit point",Mongolian:"Motivation package sent succesfully! You've been awarded 1 food limit point",Nepali:"Motivation package sent succesfully! You've been awarded 1 food limit point",Norwegian:"Motivation package sent succesfully! You've been awarded 1 food limit point",Silesian:"Motivation package sent succesfully! You've been awarded 1 food limit point",Thai:"Motivation package sent succesfully! You've been awarded 1 food limit point"},YouAlreadySentPackageThisCitizenToday={English:"You've already sent a package to this citizen today",Russian:"\u0412\u044B \u0443\u0436\u0435 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u044F\u043B\u0438 \u043A\u043E\u043C\u043F\u043B\u0435\u043A\u0442 \u044D\u0442\u043E\u043C\u0443 \u0433\u0440\u0430\u0436\u0434\u0430\u043D\u0438\u043D\u0443 \u0441\u0435\u0433\u043E\u0434\u043D\u044F",German:"Du hast diesem B\xFCrger bereits heute ein Motivationspaket gesendet",Dutch:"Je hebt al een pakket naar deze burger gestuurd vandaag",Czech:"Tomuto ob\u010Danovi si ji\u017E dnes poslal bal\xED\u010Dek",Serbian:"\u0412\u0435\u045B \u0441\u0442\u0435 \u043F\u043E\u0441\u043B\u0430\u043B\u0438 \u043F\u0430\u043A\u0435\u0442 \u043E\u0432\u043E\u043C \u0438\u0433\u0440\u0430\u0447\u0443 \u0434\u0430\u043D\u0430\u0441",French:"Vous avez d\xE9j\xE0 envoy\xE9 un paquet \xE0 ce citoyen aujourd'hui"},CitizenReceivedManyMotivationsToday={English:"This citizen received too many motivations today",Russian:"\u042D\u0442\u043E\u0442 \u0433\u0440\u0430\u0436\u0434\u0430\u043D\u0438\u043D \u043F\u043E\u043B\u0443\u0447\u0438\u043B \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u043D\u043E\u0433\u043E \u043C\u043E\u0442\u0438\u0432\u0430\u0446\u0438\u0439 \u0441\u0435\u0433\u043E\u0434\u043D\u044F"},CitizenReceivedEveryKindMotivationPackageToday={English:"This citizen received every kind of motivation package today",Russian:"\u042D\u0442\u043E\u0442 \u0433\u0440\u0430\u0436\u0434\u0430\u043D\u0438\u043D \u043F\u043E\u043B\u0443\u0447\u0438\u043B \u0432\u0441\u0435 \u0432\u0438\u0434\u044B \u043C\u043E\u0442\u0438\u0432\u0430\u0446\u0438\u043E\u043D\u043D\u044B\u0445 \u043A\u043E\u043C\u043F\u043B\u0435\u043A\u0442\u043E\u0432 \u0441\u0435\u0433\u043E\u0434\u043D\u044F",German:"Dieser B\xFCrger hat bereits alle Motivationspakete f\xFCr heute erhalten",Dutch:"Deze burger heeft elke soort motivatie pakket ontvangen vandaag",Czech:"Tento ob\u010Dan dnes obdr\u017Eel ka\u017Ed\xFD druh motiva\u010Dn\xEDho bal\xEDku",Serbian:"\u0418\u0433\u0440\u0430\u0447 \u0458\u0435 \u043F\u0440\u0438\u043C\u0438\u043E \u0441\u0432\u0430\u043A\u0443 \u0432\u0440\u0441\u0442\u0443 \u043C\u043E\u0442\u0438\u0432\u0430\u0446\u0438\u043E\u043D\u043E\u0433 \u043F\u0430\u043A\u0435\u0442\u0430 \u0434\u0430\u043D\u0430\u0441",French:"Ce citoyen a re\xE7u toutes les sortes de paquets de motivation pour aujourd'hui"},YouDontHaveEnoughItems={English:"You don't have enough items",Russian:"\u0423 \u0432\u0430\u0441 \u043D\u0435 \u0434\u043E\u0441\u0442\u0430\u0442\u043E\u0447\u043D\u043E \u043F\u0440\u0435\u0434\u043C\u0435\u0442\u043E\u0432",German:"Du hast nicht gen\xFCgend Gegenst\xE4nde",Dutch:"Je hebt niet genoeg producten",Czech:"Nem\xE1\u0161 dostatek p\u0159edm\u011Bt\u016F",Serbian:"\u041D\u0435\u043C\u0430\u0442\u0435 \u0434\u043E\u0432\u043E\u0459\u043D\u043E \u043F\u0440\u0435\u0434\u043C\u0435\u0442\u0430",French:"Vous n'avez pas assez d'objets"},tokenEsim="",lang="en",localUrl=new String(window.location),currentServer=/\/\/(\w+)\./gim.exec(localUrl)[1],lastModalWindow=$("#fightResponse > div").clone(),NotifyMotivateTemp="<div class=\"growlUI {1}\" style=\"cursor: default;\"><h1>{2}</h1><h2>{3}</h2></div>",NotifyTwoClickTemp="<div class=\"growlUI {1}\" style=\"cursor: default;\"><h1>{2}</h1><h2>{3}</h2></div>",cachedSettings=null,selectedFood=null,selectedGift=null,selectedWeapon=null,selectedCurrency=null,idPlayer=null,extendedMU=!1,savedWorkedList=[],currencyHash={},currencyPush=[],taxesHash={},taxesPush=[];function in_array(t,a){for(var r=0;r<a.length;r++)if(a[r]==t)return!0;return!1}function inGameCheck(){return!(1!=$("section.top-bar-section > ul.foundation-right").length)}function GetCurrentDay(){var t=/\d+/gim.exec($("#userMenu div div.panel.callout b:eq(2)").html());return t?parseInt(t[0]):0}function itsOrgAccount(){return!(1!=parseInt($("#actualXp").html()))}function createCheckBox(t,a,r){var o=$("<div></div>"),l=$.jStorage.get(a,r)?"checked='checked'":"";return o.append("<input class='configCheckbox' type='checkbox' "+l+" />"),o.children("input").bind("change",function(){$.jStorage.set(a,"checked"==$(this).attr("checked"))}),o.append("<span class='configLabelCheckbox'>"+t+"</span>"),o.children("span").bind("click",function(){o.children("input").click(),o.children("input").change()}),o}function createInputText(t,a,r,o){var l=$("<div></div>");return l.append("<span class='configLabelInputText'>"+t+"</span>"),l.append("<input class='configInputText' type='text' value='"+$.jStorage.get(a,r)+"' />"),l.children("input").bind("keyup change",function(){"number"==o&&$(this).attr("value",$(this).attr("value").replace(/[^\d,]/g,"")),""!=$(this).attr("value")&&$.jStorage.set(a,$(this).attr("value"))}),l}function createSelect(t,a,r,o){var l=$("<div></div>");for(var d in l.append("<span class='configLabelSelect'>"+t+"</span>"),l.append("<select class=\"configSelect\"></select>"),o){var p=$.jStorage.get(a,r)==o[d]?"selected ":"";l.children("select").append("<option "+p+"value=\""+o[d]+"\">"+d+"</option>")}return l.children("select").bind("change",function(){$.jStorage.set(a,parseInt($(this).attr("value")))}),l}function ImgSrcFix(){$("div.fightFlag.flags-medium").each(function(){if(""!=$(this).html())return!0;var t=$(this).attr("class"),a=t.split(" ");console.log("fightFlag xflagsMedium xflagsMedium-"+a[2]),$(this).append("<div class=\"fightFlag xflagsMedium xflagsMedium-"+a[2]+"\"></div>")}),$("div.flags-small").each(function(){if(""!=$(this).html())return!0;var t=$(this).attr("class"),a=t.split(" ");console.log("fightFlag xflagsMedium xflagsMedium-"+a[1]),$(this).append("<div class=\"xflagsSmall xflagsSmall-"+a[1]+"\"></div>")}),window.setTimeout(ImgSrcFix,2e3)}function ScriptAndStyleSrcFix(){$("script").each(function(){$(this).attr("src")!=void 0&&0<=$(this).attr("src").indexOf("//cdn.e-sim.org//",0)&&$(this).attr("src",$(this).attr("src").replace("//cdn.e-sim.org//","//cdn.e-sim.org/"))}),$("link[type*=css]").each(function(){$(this).attr("href")!=void 0&&0<=$(this).attr("href").indexOf("//cdn.e-sim.org//",0)&&$(this).attr("href",$(this).attr("href").replace("//cdn.e-sim.org//","//cdn.e-sim.org/"))})}function getUrlVars(){var t={},a=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(r,o,l){t[o]=l});return t}function getLang(){if(1==$("#userMenu > div > form > button > img").length){var t=/SMALL\/(\S+).png/.exec($("#userMenu > div > form > button > img").attr("src"))[1];lang=LangByCC[t]}}function Main(){getLang(),$("<a id=\"SGSettingsButton\" class=\"button foundation-style\" title=\"Shadow Government Settings\" href=\"editCitizen.html?Settings\"><i class=\"icon-star\"></i>SG Settings</a><br>").insertBefore($(".foundation-right.hidden-overflow > div:first > a:last")),$("#SGSettingsButton").click(function(){return $.blockUI({message:$("#WrapperMainConfig"),css:{top:"48px",left:"50%",right:"",margin:"0px 0px 0px -300px",width:"600px",border:"0px",position:"absolute",textAlign:"left",cursor:"default"},onOverlayClick:$.unblockUI}),!1}),$("<div id=\"WrapperMainConfig\" style=\"display:none;\"><center><h1>Shadow Government Settings</h1></center><p style=\"clear: both\"></p><br><ul id=\"MainConfigMenu\"></ul><div id=\"MainConfigBody\"></div></div>").appendTo($("body")),$("<button id=\"CloseWrapperMainConfig\" style=\"position: absolute; top: 0.25em; right: 0.25em; padding: 0.3em !important; \" href=\"#\" class=\"foundation-style closeDropdown profileButton\">\xD7</button>").appendTo($("#WrapperMainConfig > center > h1")),$("#CloseWrapperMainConfig").click(function(){$.unblockUI()}),$("<li>Two Click</li>").appendTo($("#MainConfigMenu"));var t=$("<div></div>").appendTo($("#MainConfigBody")),a=createCheckBox("Two Click Auto","SGTwoClick",!1);t.append(a);var r=createInputText("Two Click Password: ","SGTwoClickPassword","","passwd");t.append(r),$("<li>Spectator</li>").appendTo($("#MainConfigMenu"));var o=$("<div></div>").appendTo($("#MainConfigBody")),l=createCheckBox("Custom Spectator","SGSpectatorMode",!0);o.append(l);var d=createInputText("Timer Spectator: ","SGTimerSpectator",7e3,"number");o.append(d);var p=createInputText("Fake User ID: ","SGFakeUserID",1,"number");o.append(p);var u=createInputText("Fake Citizenship ID: ","SGFakeCitizenshipID",1,"number");o.append(u);var g=createCheckBox("Fake Spectator Focus","SGFakeSpectatorFocus",!1);o.append(g),$("<li>Motivator</li>").appendTo($("#MainConfigMenu"));var f=$("<div></div>").appendTo($("#MainConfigBody")),y=createCheckBox("Easy Motivator","SGMotivationMode",!0);f.append(y);var b=createSelect("Auto Motivator: ","SGAutoMotivateType",0,{disabed:0,weapons:1,breads:2,gifts:3});f.append(b),$("<li>Demoralizator</li>").appendTo($("#MainConfigMenu"));var S=$("<div></div>").appendTo($("#MainConfigBody")),k=createCheckBox("Demoralizator","SGDemoralizatorMode",!1);S.append(k);var M=createInputText("Dem. Timer Spectator: ","SGDemoralizatorTimerSpectator",1e4,"number");S.append(M);var T=createInputText("Dem. Fake User Count: ","SGDemoralizatorFakeUserIDCount",10,"number");S.append(T);var C=createInputText("Dem. Fake Citizenship ID: ","SGDemoralizatorFakeCitizenshipID",2,"number");S.append(C),$("<li>Equipment</li>").appendTo($("#MainConfigMenu"));var B=$("<div></div>").appendTo($("#MainConfigBody")),w=createCheckBox("Equipment Fast Link","SGEquipmentFastMode",!0);B.append(w),$("<li>Logs</li>").appendTo($("#MainConfigMenu"));var G=$("<div></div>").appendTo($("#MainConfigBody")),I=createCheckBox("MU Donations Log","SGMUDonationsLogMode",!1);G.append(I);var P=createCheckBox("Player Transaction Log","SGTransactionLogMode",!1);G.append(P),$("<li>Market</li>").appendTo($("#MainConfigMenu"));var D=$("<div></div>").appendTo($("#MainConfigBody")),A=createCheckBox("New Table Product Market","SGNewTableProductMarket",!0);D.append(A);var L=createCheckBox("Change Product Market Table(OLD TABLE)","SGChangeProductMarketTable",!0);D.append(L);var E=createCheckBox("Display Gold Value","SGDisplayGoldValue(OLD TABLE)",!0);D.append(E),$("<li>Market Offers</li>").appendTo($("#MainConfigMenu"));var O=$("<div></div>").appendTo($("#MainConfigBody")),R=createCheckBox("Change Market Offers","SGChangeMarketOffers",!0);O.append(R);var z=createCheckBox("Edit Offers","SGEditOffers",!0);O.append(z),$("<li>Monetary Market</li>").appendTo($("#MainConfigMenu"));var F=$("<div></div>").appendTo($("#MainConfigBody")),N=createCheckBox("Change Monetary Market Table","SGChangeMonetaryMarketTable",!0);F.append(N);var U=createCheckBox("Monetary Market Price Edit","SGMonetaryMarketPriceEdit",!0);F.append(U);var _=createCheckBox("Monetary Market Price Ratio","SGMonetaryMarketPriceRatio",!0);F.append(_),$("<li>Battle Page</li>").appendTo($("#MainConfigMenu"));var K=$("<div></div>").appendTo($("#MainConfigBody")),H=createCheckBox("Battle Stats Minimize Mode","SGBattleStatsMinimizeMode",!0);K.append(H);var W=createSelect("Modal Window Func Mode: ","SGModalWindowFuncMode",1,{disabed:0,modal:1,block:2});K.append(W),$("<li>Military Unit</li>").appendTo($("#MainConfigMenu"));var Y=$("<div></div>").appendTo($("#MainConfigBody")),V=createCheckBox("MU Broadcast Message","SGMUBroadcastMsg",!0);Y.append(V);var J=createCheckBox("MU Text Storage","SGMUTextStorageMode",!0);Y.append(J),$("<li>Companies</li>").appendTo($("#MainConfigMenu"));var Z=$("<div></div>").appendTo($("#MainConfigBody")),V=createCheckBox("Company Redesign","SGCompanyRedesignMode",!0);Z.append(V);var J=createCheckBox("Company Work Results","SGCompanyWorkResultsMode",!0);Z.append(J);var Q=createCheckBox("SGCompany All Workers Redesign","SGCompanyAllWorkersMode",!0);Z.append(Q),$("<li>Statistics</li>").appendTo($("#MainConfigMenu"));var X=$("<div></div>").appendTo($("#MainConfigBody")),ee=createCheckBox("Citizen Broadcast MSG","SGCitizenBroadcastMSG",!0);X.append(ee),$("<li>Other Fix</li>").appendTo($("#MainConfigMenu"));var te=$("<div></div>").appendTo($("#MainConfigBody")),ae=createCheckBox("Img Src Fix","SGImgSrcFixMode",!1);te.append(ae);var ie=createCheckBox("Script And Style Src Fix","SGScriptAndStyleSrcFixMode",!1);te.append(ie),$("#WrapperMainConfig").lightTabs()}function CreateSpectatorsBlock(){$("#battleStats").append("<div class=\"foundation-style small-10 columns\"><div class=\"foundation-style small-5 columns\"><b>Total defenders online:</b><i id=\"totaldefenders\" style=\"display: inline;\">0</i> <a style=\"font-size: 11px;\" href=\"\" id=\"defendersLink\">Show details</a> <a style=\"font-size: 11px; display: none;\" href=\"\" id=\"defendersLinkHide\">Hide details</a> <br><div align=\"center\" id=\"defendersMenu\" style=\"font-size: 11px; text-align: center; padding: 1em; margin: auto; display: none;\">No one <br> </div></div><div class=\"foundation-style small-5 columns\"><b>Total attackers online:</b><i id=\"totalattackers\" style=\"display: inline;\">0</i> <a style=\"font-size: 11px;\" href=\"\" id=\"attackersLink\">Show details</a> <a style=\"font-size: 11px;  display: none;\" href=\"\" id=\"attackersLinkHide\">Hide details</a> <br><div align=\"center\" id=\"attackersMenu\" style=\"font-size: 11px; text-align: center; padding: 1em; margin: auto; display: none;\">No one <br> </div></div>"),$("#battleStats").append("<div class=\"foundation-style small-10 columns\"><b>Total spectators online:</b><i id=\"totalspectators\" style=\"display: inline;\">0</i> <a style=\"font-size: 11px;\" href=\"\" id=\"spectatorsLink\">Show details</a> <a style=\"font-size: 11px; display: none;\" href=\"\" id=\"spectatorsLinkHide\">Hide details</a> <br><div align=\"center\" id=\"spectatorsMenu\" style=\"font-size: 11px; text-align: center; padding: 1em; margin: auto; display: none;\">No one <br> </div>  </div>"),$("#spectatorsLink").click(function(){return $("#spectatorsLink").fadeOut("fast",function(){$("#spectatorsLinkHide").fadeIn("fast"),$("#spectatorsMenu").fadeIn("fast")}),!1}),$("#spectatorsLinkHide").click(function(){return $("#spectatorsLinkHide").fadeOut("fast",function(){$("#spectatorsLink").fadeIn("fast"),$("#spectatorsMenu").fadeOut("fast")}),!1}),$("#attackersLink").click(function(){return $("#attackersLink").fadeOut("fast",function(){$("#attackersLinkHide").fadeIn("fast"),$("#attackersMenu").fadeIn("fast")}),!1}),$("#attackersLinkHide").click(function(){return $("#attackersLinkHide").fadeOut("fast",function(){$("#attackersLink").fadeIn("fast"),$("#attackersMenu").fadeOut("fast")}),!1}),$("#defendersLink").click(function(){return $("#defendersLink").fadeOut("fast",function(){$("#defendersLinkHide").fadeIn("fast"),$("#defendersMenu").fadeIn("fast")}),!1}),$("#defendersLinkHide").click(function(){return $("#defendersLinkHide").fadeOut("fast",function(){$("#defendersLink").fadeIn("fast"),$("#defendersMenu").fadeOut("fast")}),!1})}function sendUpdateRequestSpectator(){var t=$.jStorage.get("SGFakeUserID",1),a=$.jStorage.get("SGFakeCitizenshipID",1),r=$.jStorage.get("SGTimerSpectator",7e3);if(hasFocus||!$.jStorage.get("SGFakeSpectatorFocus",!1)){hasFocus||$.jStorage.get("SGFakeSpectatorFocus",!1)||!(7e3>r)||(r=7e3);var o="id="+$("#battleRoundId").val()+"&at="+t+"&ci="+a+"&premium=1";$.ajax({type:"GET",url:"battleScore.html",data:o,dataType:"json",success:function(l){updateStatus(l.attackerScore,l.defenderScore,l.remainingTimeInSeconds,l.percentAttackers),updateBattleHeros(l.topAttackers,l.topDefenders),updateTop10(l.top10Attackers,l.top10Defenders),updateBattleMonitor(l);for(var d=0;d<l.recentAttackers.length;d++)if(l.recentAttackers[d].id==latestAttackerId){l.recentAttackers=l.recentAttackers.slice(0,d);break}for(var d=0;d<l.recentDefenders.length;d++)if(l.recentDefenders[d].id==latestDefenderId){l.recentDefenders=l.recentDefenders.slice(0,d);break}0!=l.recentAttackers.length&&(latestAttackerId=l.recentAttackers[0].id,attackerHits=l.recentAttackers),0!=l.recentDefenders.length&&(latestDefenderId=l.recentDefenders[0].id,defenderHits=l.recentDefenders),window.setTimeout(sendUpdateRequestSpectator,r)}})}}function FakeSpectatorFunc(){continueThread=!1,sendUpdateRequestSpectator()}function citizenBroadcastMSG(){function t(){$.blockUI({message:$("<center><b style=\"font-size:17px\">SG Broadcast MSG</b></center><center><div id=\"SG_MSG\" class=\"foundation-style blueLabel \" style=\"margin-bottom:15px; width:530px;\"><b style=\"display:block\">Title:</b><input type=\"text\" style=\"width: 400px;\" path=\"title\" maxlength=\"100\" minlength=\"1\" id=\"titleInput\"><br><script language=\"JavaScript\">function append(textBefore, textAfter)  {var yourTextarea = document.getElementById('messageForm');var selectionStart = yourTextarea.selectionStart;var selectionText = yourTextarea.value.substr(yourTextarea.selectionStart, yourTextarea.selectionEnd-yourTextarea.selectionStart);var prefix = yourTextarea.value.substr(0, yourTextarea.selectionStart);var postfix = yourTextarea.value.substr(yourTextarea.selectionEnd);yourTextarea.value = prefix+\"\"+textBefore+\"\" + selectionText + \"\"+textAfter+\"\"+postfix;yourTextarea.selectionStart = selectionStart;yourTextarea.focus();};</script><b>Message:</b><br><textarea style=\"width:95%; height: 250px;\" name=\"body\" maxlength=\"10000\" id=\"messageForm\"></textarea><p style=\"display:inline\"> Characters remaining:     </p><p class=\"charsRemaining\" style=\"display:inline;\">10000</p><p></p><p style=\"clear: both\"></p><div style=\"display: inline\" class=\"bbcodebuttons\"><input type=\"button\" onclick=\"javascript: append('[b]','[/b]')\" value=\"B\" id=\"boldButton\" name=\"boldButton\" style=\"cursor: pointer;\"><input type=\"button\" onclick=\"javascript: append('[i]','[/i]')\" value=\"I\" id=\"italicButton\" name=\"italicButton\" style=\"cursor: pointer;\"><input type=\"button\" onclick=\"javascript: append('[u]','[/u]')\" value=\"U\" id=\"underlineButton\" name=\"underlineButton\" style=\"cursor: pointer;\"><input type=\"button\" onclick=\"javascript: append('[quote]','[/quote]')\" value=\"Quote\" id=\"quoteButton\" name=\"quoteButton\" style=\"cursor: pointer;\"><input type=\"button\" onclick=\"javascript: append('[url=LINK]','[/url]')\" value=\"Url\" id=\"urlButton\" name=\"urlButton\" style=\"cursor: pointer;\"><input type=\"button\" onclick=\"javascript: append('[citizen]citizen name[/citizen]','')\" value=\"Citizen\" id=\"citizenButton\" name=\"citizenButton\" style=\"cursor: pointer;\"><input type=\"button\" onclick=\"javascript: append('[currency]PLN[/currency]','')\" value=\"Currency\" id=\"currencyButton\" name=\"currencyButton\" style=\"cursor: pointer;\"><input type=\"button\" onclick=\"javascript: append('[center]','[/center]')\" value=\"Center\" id=\"boldButton\" name=\"centerButton\" style=\"cursor: pointer;\"><br /><br /><a href=\"javascript: append(':)','')\"><img border=\"0\" src=\""+IMGSMILE+"\"> </a><a href=\"javascript: append(':D','')\"><img border=\"0\" src=\""+IMGBIGSMILE+"\"> </a><a href=\"javascript: append(':\\','')\"><img border=\"0\" src=\""+IMGCIACH+"\"> </a><a href=\"javascript: append(':P ','')\"><img border=\"0\" src=\""+IMGTONQUE+"\"> </a><a href=\"javascript: append(':( ','')\"><img border=\"0\" src=\""+IMGUNHAPPY+"\"> </a><a href=\"javascript: append(';) ','')\"><img border=\"0\" src=\""+IMGEYE+"\"> </a></div><p style=\"cleat: both\"></p><input type=\"hidden\" value=\"REPLY\" name=\"action\"><input type=\"button\" id=\"SENDMSG\" value=\"Send\" style=\"cursor: pointer;\"> &nbsp; <input type=\"button\" value=\"Close\" id=\"ClosewButton\" style=\"cursor: pointer;\"><p style=\"clear: both\"></p> </div></center>"),css:{top:"48px",left:($(window).width()-600)/2+"px",width:"600px",border:"0px",position:"absolute",textAlign:"left"}}),$("#ClosewButton").click(function(){$.unblockUI()}),$("#SENDMSG").click(function(){msgTitle=$("#titleInput").val(),msgBody=$("#messageForm").val(),$("#SG_MSG").html("<center><p style=\"text-align: center;\"><h1>Dont Close...</h1><img alt=\"\" src=\""+IMGLOADBAR+"\" style=\"margin-left:-13px; width: 562px; height: 126px;\" /></p><p style=\"text-align: center;\"><span style=\"font-size:36px;\"><span id=\"LeftMSG\">0</span>/<span id=\"AllMSG\">"+a.length+"</span></span></p></center>"),a.forEach(function(d,p){SendMSG(d,msgTitle,msgBody,11000*p)})})}var a=[],r=/^(.*?)(\d+)$/gim.exec($("#pagination-digg >.next").prev("li").find("a").attr("href")),o="",l=1;r?(o=r[1],l=r[2]):o=/(.*?\.html.*?)$/gim.exec(localUrl)[1],$("<hr class=\"littleDashedLine\"><div id=\"citizenProgressWrap\"></div><p style=\"clear: both\"></p>").appendTo(".small-8 > .testDivblue"),$("#citizenProgressWrap").append("<input type=\"submit\" id=\"CitizenBroadcastMSG\" value=\"Citizen Broadcast MSG\">"),$("#CitizenBroadcastMSG").click(function(){if(1>a.length){$("#citizenProgressWrap").append("<div id=\"citizenProgressBarWrap\"><center><p style=\"text-align: center;\"><img alt=\"\" src=\""+IMGLOAD+"\" style=\"margin-right: 10px;\" /><span style=\"font-size:36px;\"><span id=\"CountPage\">0</span>/<span id=\"AllPage\">"+l+"</span></span></p></center></div>");for(var p,d=1;d<=l;d++)p=1==l?o:o+d,$.ajax({type:"GET",url:p,success:function(u){$(".dataTable a",u).each(function(){a[a.length]=$(this).text().replace(/ /g,"")}),$(u).empty().remove(),u="undefined",$("#CountPage").text(parseInt($("#CountPage").text())+1),parseInt($("#CountPage").text())==parseInt($("#AllPage").text())&&($("#citizenProgressBarWrap").empty().remove(),t())},error:function(){},timeout:5e3})}else 0==$("#citizenProgressBarWrap").length&&t()})}function EasyMotivation(){var t=GetMotivateToday(),a=$(".dataTable tr:eq(1) > td:first a.profileLink");1==a.length&&NewestCitizen(a.attr("href").replace("profile.html?id=","")),BruteForceCitizenForm(),$(".dataTable ul.button.foundation-center.foundation-style-group li a.foundation-style.button.small.help i.icon-cupcake").parent().parent().toggle(),$("<span>Today motivate count: <b id=\"countMotivationToday\">0</b><span>").insertAfter("#newCitizenStatsForm"),$("#countMotivationToday").html(t.count),$("table.dataTable tr:not(:first)").each(function(){if(0<$(this).children("td").children("i.icon-uniF478").length){var l=$(this).children("td:first").children(".profileLink").attr("href").replace("profile.html?id=","");1==$(this).children("td:eq(4)").children("i.icon-uniF478").length&&($(this).children("td:eq(4)").empty(),$(this).children("td:eq(4)").append("<i id=\"motivate-weapons-"+l+"\" class=\"motivate-element motivate-weapons icon-tank\" value=\""+l+"\"></i>")),1==$(this).children("td:eq(5)").children("i.icon-uniF478").length&&($(this).children("td:eq(5)").empty(),$(this).children("td:eq(5)").append("<i id=\"motivate-breads-"+l+"\" class=\"motivate-element motivate-breads icon-bread\" value=\""+l+"\"></i>")),1==$(this).children("td:eq(6)").children("i.icon-uniF478").length&&($(this).children("td:eq(6)").empty(),$(this).children("td:eq(6)").append("<i id=\"motivate-gifts-"+l+"\" class=\"motivate-element motivate-gifts icon-gift\" value=\""+l+"\"></i>"))}return!0}),$(".motivate-element").click(function(){var r=0;$(this).hasClass("motivate-weapons")?r=1:$(this).hasClass("motivate-breads")?r=2:$(this).hasClass("motivate-gifts")&&(r=3);var o=$(this).parent(),l=$(this).attr("value"),d="type="+r+"&id="+l;$.ajax({type:"POST",url:"motivateCitizen.html?id="+l,data:d,dataType:"json",error:AutoMotivateResponse})})}function BruteForceCitizenForm(){$("<br><br><b>Bruteforce motivate by user id</b>:<br><input id=\"BruteforceCitizenNuber\" class=\"foundation-style\" type=\"text\" name=\"BruteforceCitizenNuber\" placeholder=\"Enter User ID\"><select id=\"BruteforceMotivateType\" class=\"configSelect\"><option selected=\"\" value=\"1\">weapons</option><option value=\"2\">breads</option><option value=\"3\">gifts</option></select><button id=\"BruteforceCitizenButton\" class=\"postfix only-icon button foundation-style\" style=\"width: 40px;\" type=\"button\"><i class=\"icon-muffin\"></i></button>").insertAfter("#newCitizenStatsForm");var t=$("#BruteforceCitizenNuber"),a=$("#BruteforceCitizenButton"),r=$("#BruteforceMotivateType");t.val($.jStorage.get("SGMotivateTopCitizen",0)),a.click(function(){var o=parseInt(t.val()),l=parseInt(r.val()),d="type="+l+"&id="+o,p=GetMotivateToday();if(5<=p.count||!checkStorageMotivation(l)||itsOrgAccount()){if(itsOrgAccount()){var u=NotifyMotivateTemp;u=u.replace("{1}","error_motivated"),u=u.replace("{2}","Motivate Notification"),u=u.replace("{3}","It's Org account"),MotivateNotify(u)}if(!checkStorageMotivation(l)){var u=NotifyMotivateTemp;u=u.replace("{1}","error_motivated"),u=u.replace("{2}","Motivate Notification"),u=u.replace("{3}","Don't have supply for motivate"),MotivateNotify(u)}if(5<=p.count){var u=NotifyMotivateTemp;u=u.replace("{1}","error_motivated"),u=u.replace("{2}","Motivate Notification"),u=u.replace("{3}","Motivate limit: 5"),MotivateNotify(u)}return!1}for(;5>p.count;){var d="type="+l+"&id="+o;$.ajax({type:"POST",async:!1,url:"motivateCitizen.html?id="+o,data:d,dataType:"json",error:AutoMotivateResponse}),sleep(750),o--,p=GetMotivateToday()}})}function NewBruteForceCitizenForm(){var t=GetMotivateToday(),a=$(".testDivwhite .dataTable tr:eq(1) > td:first a");1==a.length&&NewestCitizen(a.attr("href").replace("profile.html?id=","")),$("<span>Today motivate count: <b id=\"countMotivationToday\">"+t.count+"</b>/<b id=\"countMotivationMax\">5</b><span><br><br><b>Bruteforce motivate by user id</b>:<br><input id=\"BruteforceCitizenNuber\" class=\"foundation-style\" type=\"text\" name=\"BruteforceCitizenNuber\" placeholder=\"Enter User ID\"><select id=\"BruteforceMotivateType\" class=\"configSelect\"><option selected=\"\" value=\"1\">weapons</option><option value=\"2\">breads</option><option value=\"3\">gifts</option></select><button id=\"BruteforceCitizenButton\" class=\"postfix only-icon button foundation-style\" style=\"width: 40px;\" type=\"button\" status=\"disable\"><i class=\"icon-muffin\"></i></button><br><span id=\"lastMotivationPanel\" style=\"display:none;\">Last motivate user: <b id=\"numMotivationUserLast\">0</b></span>").insertAfter("#countryViewForm");var r=$("#BruteforceCitizenNuber"),o=$("#BruteforceCitizenButton"),l=$("#BruteforceMotivateType");r.val($.jStorage.get("SGMotivateTopCitizen",0)),o.click(function(){if("disable"==o.attr("status")){var d=parseInt(r.val()),p=parseInt(l.val());o.attr("status","active"),NewBruteForceCitizenFunc(p,d)}else o.attr("status","disable")})}function NewBruteForceCitizenFunc(t,a){var r=GetMotivateToday(),o=$("#countMotivationToday"),l=$("#countMotivationMax"),d=$("#BruteforceCitizenButton");if("disable"==d.attr("status")||parseInt(o.html())>=parseInt(l.html()))return d.attr("status","disable"),!1;if(5<=r.count||!checkStorageMotivation(t)||itsOrgAccount()){if(d.attr("status","disable"),itsOrgAccount()){var p=NotifyMotivateTemp;p=p.replace("{1}","error_motivated"),p=p.replace("{2}","Motivate Notification"),p=p.replace("{3}","It's Org account"),MotivateNotify(p)}if(!checkStorageMotivation(t)){var p=NotifyMotivateTemp;p=p.replace("{1}","error_motivated"),p=p.replace("{2}","Motivate Notification"),p=p.replace("{3}","Don't have supply for motivate"),MotivateNotify(p)}if(5<=r.count){var p=NotifyMotivateTemp;p=p.replace("{1}","error_motivated"),p=p.replace("{2}","Motivate Notification"),p=p.replace("{3}","Motivate limit: 5"),MotivateNotify(p)}return!1}var u="type="+t+"&id="+a;$.ajax({type:"POST",async:!1,url:"motivateCitizen.html?id="+a,data:u,dataType:"json",error:AutoMotivateResponse}),a--,r=GetMotivateToday(),setTimeout(function(){NewBruteForceCitizenFunc(t,a)},1e3)}function NewestCitizen(t){$.jStorage.get("SGMotivateTopCitizen",0)<t&&$.jStorage.set("SGMotivateTopCitizen",t)}function GetMotivateToday(){var t=GetCurrentDay(),a={day:t,count:0};return JSON.parse($.jStorage.get("SGMotivateCountToday",JSON.stringify(a))).day==t?JSON.parse($.jStorage.get("SGMotivateCountToday",JSON.stringify(a))):a}function UpdateMotivateToday(){var t=GetMotivateToday();t.count++,$.jStorage.set("SGMotivateCountToday",JSON.stringify(t)),$("#MotivationCount").html(t.count)}function MotivateNotify(t){$.blockUI({message:t,fadeIn:700,fadeOut:700,timeout:2e3,showOverlay:!1,centerY:!1,css:{width:"350px",top:"50px",left:"",right:"10px",border:"none",padding:"5px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:.9,color:"#fff"}})}function AutoMotivateResponse(t){var o=!!(0<=localUrl.indexOf(URLNewCitizen,0)),l=/type=(\d)&id=(\d+)/gim.exec($(this)[0].data),d=parseInt(l[1]),p=parseInt(l[2]),u=["none","weapons","breads","gifts"],g=$(t.responseText),f=t.getResponseHeader("TM-finalURLdhdg"),y=NotifyMotivateTemp;if(f){var b=/citizenMessage=(\S+)/gim.exec(f);if(b&&"SUCCESFULLY_MOTIVATED"==b[1]){if(o){var S=$("#motivate-"+u[d]+"-"+p).parent();S.empty(),S.append("<i title=\"\u041C\u043E\u0442\u0438\u0432\u0430\u0446\u0438\u044F \u043F\u0440\u043E\u0448\u043B\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E\" style=\"color: #0c0; font-size: 1.25em; text-shadow: 0 0 0\" class=\"icon-uniF479\"></i>")}y=y.replace("{1}","succesfully_motivated"),y=y.replace("{2}","Motivate Notification"),y=y.replace("{3}","Succesfully motivated"),MotivateNotify(y),UpdateMotivateToday()}else b&&(o&&$("#motivate-"+u[d]+"-"+p).attr("title","Error: "+b[1]),y=y.replace("{1}","error_motivated"),y=y.replace("{2}","Motivate Notification"),y=y.replace("{3}",b[1]),MotivateNotify(y))}else{o&&$("#motivate-"+u[d]+"-"+p).css({color:"#c00"});var k=g.find("div.foundation-style.small-8 > div:eq(1)");if(k.hasClass("testDivred")||k.hasClass("testDivblue")){var M=$.trim(k.text());if(SentManyMotivationsToday[lang]!=void 0){if(RegExp(SentManyMotivationsToday[lang],"gim").exec(M)){var T=GetMotivateToday();T.count=5,$.jStorage.set("SGMotivateCountToday",JSON.stringify(T)),$("#MotivationCount").html(T.count),o&&$("#countMotivationToday").html(T.count)}}else if(!(succesfullyMotivated[lang]!=void 0))RegExp(YouAlreadySentPackageThisCitizenToday[lang],"gim").exec(M)||RegExp(CitizenReceivedManyMotivationsToday[lang],"gim").exec(M)||RegExp(CitizenReceivedEveryKindMotivationPackageToday[lang],"gim").exec(M)||RegExp(YouDontHaveEnoughItems[lang],"gim").exec(M);else if(RegExp(succesfullyMotivated[lang],"gim").exec(M)){var T=GetMotivateToday();T.count++,$.jStorage.set("SGMotivateCountToday",JSON.stringify(T)),$("#MotivationCount").html(T.count),o&&$("#countMotivationToday").html(T.count)}y=y.replace("{1}","error_motivated"),y=y.replace("{2}","Motivate Notification"),y=y.replace("{3}",M),MotivateNotify(y)}else y=y.replace("{1}","error_motivated"),y=y.replace("{2}","Motivate Notification"),y=y.replace("{3}","Unknown error"),MotivateNotify(y)}g.remove()}function GetUserStorage(){var t={};return $.ajax({type:"GET",url:URLUserStorage+"?storageType=PRODUCT",async:!1,success:function(a){$(a).find("#storageProductsTab .storage").each(function(){var r=parseInt($.trim($(this).children("div:first").text())),o=/\/(\w+)\.png/gim.exec($(this).children("div:eq(1)").children("img:first").attr("src"))[1],l=0;1<$(this).children("div:eq(1)").children("img").length&&(l=parseInt(/\/q(\d)\.png/gim.exec($(this).children("div:eq(1)").children("img:eq(1)").attr("src"))[1])),void 0===t[o]&&(t[o]={}),t[o][l]=r})}}),t}function checkStorageMotivation(t){t===void 0&&(t=$.jStorage.get("SGAutoMotivateType",0));var a=GetUserStorage();if(1==t&&"object"==typeof a.Weapon&&3<=a.Weapon[1])return!0;return 2==t&&"object"==typeof a.Food&&2<=a.Food[3]||3==t&&"object"==typeof a.Gift&&1<=a.Gift[3]}function AutoMotivate(){var a=GetCurrentDay(),r=GetMotivateToday();return(1==$("#MotivationCount").length?$("#MotivationCount").html(r.count):$("<b>Motivation Today:</b><b id=\"MotivationCount\">"+r.count+"</b>").insertAfter("#actualHealth + br"),!(5<=r.count||!checkStorageMotivation()||itsOrgAccount()))&&void($.ajax({url:URLNewCitizenAuto}).done(function(o,l,d){var p=$.jStorage.get("SGAutoMotivateType",0);$(d.responseText).find("table.dataTable  tr:not(:first)").each(function(){if(0<$(this).find("td:eq("+(3+p)+") i.icon-uniF478").length){var u=$(this).find("td:first a").attr("href").replace(/.*?id=/,"");$.ajax({type:"POST",url:"motivateCitizen.html?id="+u,data:"type="+p+"&id="+u,dataType:"json",error:AutoMotivateResponse})}})}),window.setTimeout(AutoMotivate,6e4))}function sendUpdateRequestSpectatorFake(t,a){var r="id="+$("#battleRoundId").val()+"&at="+t+"&ci="+a+"&premium=1";$.ajax({type:"GET",url:"battleScore.html",data:r,dataType:"json"})}function DemoralizatorFunc(){var a=$.jStorage.get("SGDemoralizatorFakeUserIDCount",10),r=$.jStorage.get("SGDemoralizatorFakeCitizenshipID",2),o=$.jStorage.get("SGDemoralizatorTimerSpectator",1e4);window.setInterval(function(){for(n=0;n<a;)setTimeout(sendUpdateRequestSpectatorFake,(n+1)*(o/a),n+1,r),n++},o)}function EquipmentFastMode(){$("#equipmentTable > table.dataTable tr > td[id ^=\"cell\"]").each(function(t,a){var r=$(a).attr("id").replace(/[^\d,]/g,"");$(a).next().html("<a href=\"showEquipment.html?id="+r+"\">"+$(a).next().html()+"</a>")})}function MUDonationsLog(){if($("#pagination-digg")){function t(a){var r=1==$("#pagination-digg > li.next").length?parseInt($("#pagination-digg > li.next").prev("li").children("a").html()):parseInt($("#pagination-digg > li.next-off").prev("li").html());a==void 0&&(a=1),a<=parseInt(r)&&$.ajax({url:"/militaryUnitDonations.html?page="+a}).done(function(o,l,d){$(d.responseText).find("#userMenu + div table.dataTable.paddedTable tr:not(:first)").insertAfter("#userMenu + script + div table.dataTable.paddedTable tr:last"),a++,t(a)})}$("<li class=\"FullLog\">Full Log</li>").appendTo("#pagination-digg").click(function(){$("#userMenu + script + div table.dataTable.paddedTable tr:not(:first)").remove(),t(1)})}}function TransactionLog(){if($("#pagination-digg")){function t(a){var r=/transactionLog\.html\?type=[\w_]+&dayFrom=\d+&dayTo=\d+/.exec(localUrl),o=parseInt(1==$("#pagination-digg > li.next").length?$("#pagination-digg > li.next").prev("li").children("a").html():$("#pagination-digg > li.next-off").prev("li").html());a<=o&&$.ajax({url:"/"+r[0]+"&page="+a}).done(function(l,d,p){$(p.responseText).find("#userMenu + div table.dataTable.paddedTable tr:not(:first)").insertAfter("#userMenu + script + div table.dataTable.paddedTable tr:last"),a++,t(a)})}$("<li class=\"FullLog\">Full Log</li>").appendTo("#pagination-digg").click(function(){$("#userMenu + script + div table.dataTable.paddedTable tr:not(:first)").remove(),t(1)})}}function changeProductMarketTable(){$(".dataTable").find("input[type='text']").addClass("inputTextTable");var t=$(".dataTable").find("input[type='submit']").addClass("inputSubmitTable");$(".dataTable").find("input[type='text']").bind("keyup",function(){var l=$(this).parent().parent(),d=parseFloat(l.prev().prev().children(".linkMonetaryMarket").next().text()),p=parseFloat($(this).val());l.prev().children(".inputPrice").text(Math.round(100*(d*p))/100)});var a=$("<input class='buyAllSubmit' type='submit' value='All' />");a.bind("click",function(){var l=$(this).parent().parent().prev().prev().prev().text();return $(this).parent().children("input[type='text']").val(l),!1}),a.insertBefore(t);var r=$("<div class='helpFlagMessage'>Click on country flag to open the monetary market (only price column)</div>");r.insertBefore(".dataTable"),$(".dataTable").addClass("dataTableMod"),$(".dataTable > tbody > tr:first-child > td").addClass("dataTableHeaders");var o=$(".dataTable").find("tr").eq(0).children();o.eq(0).css({width:"70px"}),o.eq(3).text("Price/unit"),$("<td class='dataTableHeaders'>Price</td>").insertAfter(o.eq(3)),$(".dataTable").find("a").each(function(){var l=$(this).parent();l.children(".currencyFlag").next().remove(),l.children(".currencyFlag").addClass("dataTableNameFlag");var d=$("<div class='blockSeller'></div>"),p=l.children("img").eq(1);p.addClass("dataTableSeller"),d.append(p);var u=$("<div class='playerName'></div>").append(l.children(":lt(2)"));if(d.append(u),0<l.children().length){u.css({"margin-top":"3px"}),l.children().eq(0).remove();var g=$("<div class='stockName'></div>").append(l.children().eq(0));d.append(g)}l.append(d);var f=l.next().next(),y=f.children("div");y.addClass("monetaryMarketFlag");var b=URLMonetaryMarket+"?buyerCurrencyId="+IDByImageCountry[GetCountryNameByFlag(y.attr("class").split(" ")[1])]+"&sellerCurrencyId=0",S=$("<a class='linkMonetaryMarket' href='"+b+"' target='_blank'></a>");S.insertBefore(y),S.append(y);var k=parseFloat(f.children("b").text()),M=parseInt(100*(parseInt(l.next().text())*k))/100,T=f.contents().last().text(),C=$("<td class='totalPriceProductMarket'><b>"+M+"</b> "+T+"</td>");C.insertAfter(f),C.append("<br/ > Total: <div style='display:inline;width:10px' class='inputPrice'>0</div>"+T)})}function displayGoldValue(){var t=".dataTable tr:not(:first)";$.jStorage.get("SGDisplayGoldValue",!0)&&(t="#myTablePM tr:not(:first)"),console.log("displayGoldValue"),$(t).each(function(){var a=0,r=[],l=IDByImageCountry[GetCountryNameByFlag($(this).find("td:eq(3) div.xflagsSmall").attr("class").split(" ")[1])];console.log("currencyId="+l),void 0==currencyHash[l]?(currencyHash[l]=getCurrencyPriceGold(l),a=currencyHash[l]):a=currencyHash[l],console.log(currencyHash),void 0==taxesHash[l]?(taxesHash[l]=getTaxByCurrency(l),r=taxesHash[l]):r=taxesHash[l],console.log(taxesHash);var d=parseFloat($(this).find("td:eq(2)").text().trim());if(s=$(this).find("td:eq(3)").text().trim(),0>s.indexOf("GOLD")){var p=parseFloat(s.substr(0,s.indexOf(" ")).trim()),u=Math.round(1e5*(p*a))/1e5,g=Math.round(1e3*(d*p))/1e3,f=Math.round(1e5*(d*p*a))/1e5;$(this).find("td:eq(3)").html($(this).find("td:eq(3)").html()+" <br> <div class=\"flags-small Gold\"></div><b>"+u+"</b> GOLD"),$(this).find("td:eq(4)").html(" <b>"+f+"</b> Gold <br/>"+$(this).find("td:eq(4)").html());for(var y=0;y<r.length;y++)if(0<=$(this).find("td:eq(0)").html().toLowerCase().indexOf(r[y].name)){var b=sellerCountryID==l?r[y].vat:r[y].import+r[y].vat;$(this).find("td:eq(3)").html($(this).find("td:eq(3)").html()+"<br> <hr class='foundation-divider'>  Price without tax: <b title=\"VAT: "+r[y].vat+"; Import Tax: "+r[y].import+"\">"+Math.round(1e5*(parseFloat(p)*(1-parseFloat(b)/100)))/1e5+"</b>"),$(this).find("td:eq(3)").html($(this).find("td:eq(3)").html()+" <br> Price(G) without tax: <b>"+Math.round(1e5*(u*(1-parseFloat(b)/100)))/1e5+"</b>");break}}})}function calcValueInGold(t,a){_MM_C_URL=_MM_C_URL.replace("{1}",t),$.get(_MM_C_URL,function(r){try{var o=$(r),l=$(".dataTable",o);0<l.length&&(l=$(l[0]));var d=l[0].rows[1].cells[2].textContent.trim();d=d.substr(d.indexOf("=")+1,d.indexOf("Gold")-d.indexOf("=")-1),_currencyValue=parseFloat(d),a&&a()}catch(p){_currencyValue=0}})}function changeNewPMTable(){$("#myTablePM").find("input[type='text']").addClass("inputTextTable");var t=$("#myTablePM").find("input[type='submit']").addClass("inputSubmitTable");$("#myTablePM").find("input[type='text']").bind("keyup",function(){var r=$(this).parent().parent(),o=parseFloat(r.prev().prev().prev().children(".linkMonetaryMarket").next().text()),l=parseFloat($(this).val().trim());r.prev().children(".inputPrice").text(Math.round(100*(o*l))/100)});var a=$("<input class='buyAllSubmit' type='submit' value='All' />");a.bind("click",function(){var r=$(this).parent().parent().prev().prev().prev().prev().text();return $(this).parent().children("input[type='text']").val(r).keyup(),!1}),a.insertBefore(t)}function createTablePM(){var t=[],a=/^(.*?)(\d+)$/gim.exec($("#pagination-digg >.next").prev("li").find("a").attr("href")),r="",o=1;a?(r=a[1],o=a[2]):r=/(.*?\.html.*?)$/gim.exec(localUrl)[1],$("<hr class=\"littleDashedLine\"><div id=\"productProgressWrap\"><center><p style=\"text-align: center;\"><img alt=\"\" src=\""+IMGLOAD+"\" style=\"margin-right: 10px;\" /><span style=\"font-size:36px;\"><span id=\"CountPage\">0</span>/<span id=\"AllPage\">"+o+"</span>&nbsp;Pages loaded</span></p></center></div><p style=\"clear: both\"></p>").appendTo(".small-8 > .testDivwhite");$(".dataTable tr:first td").each(function(){t[t.length]=$(this).text()}),$(".dataTable").parent().after("<table id=\"myTablePM\" class=\"tablesorter\"><thead><tr></tr></thead><tbody></tbody></table>"+("<div id=\"pager\" class=\"pager\"><form><img src=\""+IMGFIRSTBTN+"\" class=\"first\"/><img src=\""+IMGPREVBTN+"\" class=\"prev\"/><input type=\"text\" class=\"pagedisplay\"/><img src=\""+IMGNEXTBTN+"\" class=\"next\"/><img src=\""+IMGLASTBTN+"\" class=\"last\"/><select class=\"pagesize\"><option selected=\"selected\"  value=\"10\">10</option><option value=\"20\">20</option><option value=\"30\">30</option><option  value=\"40\">40</option></select></form></div>")+"<div id=\"urlLastPage\" class=\"hiddenDiv\">"+r+"</div><div id=\"idLastPage\" class=\"hiddenDiv\">"+o+"</div>").remove(),t.forEach(function(d,p){3==p?($("<th>Price/Unit</th>").appendTo("#myTablePM > thead > tr"),$("<th>Gold/Unit</th>").appendTo("#myTablePM > thead > tr"),$("<th>Price</th>").appendTo("#myTablePM > thead > tr")):$("<th>"+d+"</th>").appendTo("#myTablePM > thead > tr")})}function addPMTableRow(){var t=0,a=IDByImageCountry[GetCountryNameByFlag($(this).find("td:eq(3) div.xflagsSmall").attr("class").split(" ")[1])],r=$("<div>").append($(this).find("td:first > div.product > div:eq(0) > img:first").clone(),"<br>",$(this).find("td:first > div.product > div:eq(0) > img:not(:first)").clone()),o=/\/([\w\s]+)\.png/gim.exec(r.find("img:eq(0)").attr("src"));if(!o)return!1;var l=o[1];1<r.find("img").length&&(l=l+" "+/\/(q\d)\.png/gim.exec(r.find("img:eq(1)").attr("src"))[1]);var d=$(this).find("td:eq(1)"),p=$(this).find("td:eq(2)").html().trim(),u=$(this).find("td:eq(3)");t=Math.round(1e5*(p*parseFloat(u.children("b").text().trim())))/1e5;var g=u.children("div");g.addClass("monetaryMarketFlag");var f=URLMonetaryMarket+"?buyerCurrencyId="+IDByImageCountry[GetCountryNameByFlag(g.attr("class").split(" ")[1])]+"&sellerCurrencyId=0",y=$("<a class='linkMonetaryMarket' href='"+f+"' target='_blank'></a>");y.insertBefore(g),y.append(g);var b=$(this).find("td:eq(4)");$("<tr style=\"text-align:center;\"><td><b style=\"display:none;\">"+l+"</b>"+r.html()+"</td><td>"+d.html()+"</td><td>"+p+"</td><td>"+u.html()+"</td><td></td><td><b>"+t+"</b> "+CCbyID[a]+" <br/> Total: <div style=\"display:inline;width:10px\" class=\"inputPrice\">0</div> "+CCbyID[a]+"</td><td>"+b.html()+"</td></tr>").appendTo("#myTablePM")}function getCurrencyPriceGold(t){var a=0,r=0,o=_MM_C_URL.replace("{1}",t);return $.ajax({type:"GET",url:o,async:!1,success:function(l){var d=$(l),p=$(".dataTable",d);0<p.length&&(p=$(p[0]));var u=p[0].rows[1].cells[2];u?(u=u.textContent.trim(),u=u.substr(u.indexOf("=")+1,u.indexOf("Gold")-u.indexOf("=")-1),a=parseFloat(u),r=parseFloat($(".dataTable tr:eq(1) td:eq(1) > b:first",d).html().trim())):a=-1,d="undefined",$(l).empty().remove()},error:function(){},timeout:5e3}),[a,r]}function getTaxByCurrency(t){var a=[],r=_COUNTRY_URL.replace("{1}",t);return $.ajax({type:"GET",url:r,async:!1,success:function(o){for(var p,l=$(".dataTable",$(o))[1],d=1;d<l.rows.length;d++)p=l.rows[d],a[d-1]={name:TaxNameByID[d],"import":parseFloat(p.cells[2].innerHTML.toUpperCase().replace("&NBSP;","").replace("&NBSP;","").trim()),vat:parseFloat(p.cells[1].innerHTML.toUpperCase().replace("&NBSP;","").replace("&NBSP;","").trim())};$(o).empty().remove()},error:function(){},timeout:5e3}),a}function CalcValuePMProcess(t,a){console.log(t),console.log(a),$("#myTablePM tr:not(:first)").each(function(){var r=[],d=IDByImageCountry[GetCountryNameByFlag($(this).find("td:eq(3) div.xflagsSmall").attr("class").split(" ")[1])];if(t[d]!=d){r=t[d];var p=parseFloat($(this).find("td:eq(2)").text().trim());if(s=$(this).find("td:eq(3)").text().trim(),0>s.indexOf("GOLD")&&0<=r[0]){var u=parseFloat(s.substr(0,s.indexOf(" ")).trim()),g=Math.round(1e5*(u*r[0]))/1e5,f=Math.round(1e3*(p*u))/1e3,y=Math.round(1e5*(p*u*r[0]))/1e5;$(this).find("td:eq(4)").html("<div class=\"flags-small Gold\"></div><b>"+g+"</b> Gold<br/> <b>(Ratio: "+r[0]+" "+CCbyID[0]+", Amount: "+r[1]+" "+CCbyID[d]+")</b>"),$(this).find("td:eq(5)").html("<b>"+y+"</b> Gold <br/>"+$(this).find("td:eq(5)").html())}}}),$("#myTablePM").tablesorter({sortList:[[4,0]],widthFixed:!0,widgets:["zebra"]}).tablesorterPager({container:$("#pager")})}function CalcValuePM(){function t(){var r=currencyPush.pop();if(console.log(r),void 0===r)return!1;var d=URLAPIMM.replace("{1}",1),d=d.replace("{2}",0),d=d.replace("{3}",r);$.ajax({url:d,dataType:"json",success:function(p){return console.log(p),$.isArray(p)?void($.each(p,function(u,g){return currencyHash[r]=[g.ratio,g.amount],!1}),$content="undefined",$(p).empty().remove(),$("#CountCurrency").text(parseInt($("#CountCurrency").text())+1),parseInt($("#CountCurrency").text())==parseInt($("#AllCurrency").text())?($("#currencyProgressWrap").empty().remove(),0==$("#taxesProgressWrap").length&&0==$("#currencyProgressWrap").length&&CalcValuePMProcess(currencyHash,taxesHash)):t()):($("#CountCurrency").text(parseInt($("#CountCurrency").text())+1),t(),!1)},error:function(){$("#CountCurrency").text(parseInt($("#CountCurrency").text())+1),parseInt($("#CountCurrency").text())==parseInt($("#AllCurrency").text())?($("#currencyProgressWrap").empty().remove(),0==$("#taxesProgressWrap").length&&0==$("#currencyProgressWrap").length&&CalcValuePMProcess(currencyHash,taxesHash)):t()},timeout:5e3})}for(key in $("#myTablePM tr:not(:first)").each(function(){var r=IDByImageCountry[GetCountryNameByFlag($(this).find("td:eq(3) div.xflagsSmall").attr("class").split(" ")[1])];currencyHash[r]=r,taxesHash[r]=r}),currencyHash)currencyPush.push(parseInt(key));for(key in taxesHash)taxesPush.push(parseInt(key));console.log(currencyPush),console.log(taxesPush),$("<div id=\"currencyProgressWrap\"><center><p style=\"text-align: center;\"><img alt=\"\" src=\""+IMGLOAD+"\" style=\"margin-right: 10px;\" /><span style=\"font-size:36px;\"><span id=\"CountCurrency\">0</span>/<span id=\"AllCurrency\">"+Object.keys(currencyHash).length+"</span>&nbsp;Currencies loaded</span></p></center></div><p style=\"clear: both\"></p>").appendTo(".small-8 > .testDivwhite"),t()}function NewTableProductMarket(){function t(l){setTimeout(function(){var d=1==r?a:a+l;$.ajax({type:"GET",url:d,success:function(p){$(p).find(".dataTable tr:not(:first)").each(addPMTableRow).empty().remove(),p="undefined",$("#CountPage").text(parseInt($("#CountPage").text())+1),parseInt($("#CountPage").text())==parseInt($("#AllPage").text())&&($("#productProgressWrap").empty().remove(),changeNewPMTable(),CalcValuePM())},error:function(){$("#CountPage").text(parseInt($("#CountPage").text())+1),parseInt($("#CountPage").text())==parseInt($("#AllPage").text())&&($("#productProgressWrap").empty().remove(),changeNewPMTable(),CalcValuePM())},timeout:5e3})},1e3*(l-1))}if(1==$(".dataTable tr:eq(1) > td").length)return!1;createTablePM();for(var a=$("#urlLastPage").text().trim(),r=parseInt($("#idLastPage").text().trim()),o=1;o<=r;o++)t(o)}function orderSelect(t){var a=[];t.find("option").each(function(){a.push($(this)),$(this).remove()});var r=Array(46);r[0]=a[0];for(var p,o=0,l=0,d=1;d<a.length;d++)if(p=a[d].attr("value").split("-"),2==p.length){var u=parseInt(p[0])-1;"WEAPON"==p[1]?r[1+u]=a[d]:"FOOD"==p[1]?r[6+u]=a[d]:"GIFT"==p[1]?r[11+u]=a[d]:"TICKET"==p[1]?r[16+u]=a[d]:(r[27+l]=a[d],l++)}else r[21+o]=a[d],o++;for(var d=0;d<r.length;d++)r[d]&&t.append(r[d]);t.find("option")[0].selected=!0}function changeSelect(t,a,r){var l,d=1;t.find("option").each(function(){if(""!=$(this).attr("value")){var p=$(this).text(),u=p.indexOf("(",0);-1!=u&&(p=p.substr(u+1,p.indexOf(")",u)-u-1),mypatttofindnum=/\d{1,45}/g,p=mypatttofindnum.exec(p));var g=$("<div class='storage productMU'>");g.append("<div>"+p+"</div>");var f=$("<div></div>");g.append(f);var y=$("<div class='storageButton' selectIndex='"+d+"'></div>");y.append(g);var b=$(this).attr("value").split("-");1==b.length?("IRON"==b[0]?f.append("<img src='"+IMGIRON+"' />"):"OIL"==b[0]?f.append("<img src='"+IMGOIL+"' />"):"GRAIN"==b[0]?f.append("<img src='"+IMGGRAIN+"' />"):"DIAMONDS"==b[0]?f.append("<img src='"+IMGDIAMONDS+"' />"):"WOOD"==b[0]?f.append("<img src='"+IMGWOOD+"' />"):"STONE"==b[0]&&f.append("<img src='"+IMGSTONE+"' />"),g.css({height:"67px"}),y.css({margin:"10px 4px 8px 10px"})):(b.length=2)&&("WEAPON"==b[1]?f.append("<img src='"+IMGWEAPON+"' />"):"FOOD"==b[1]?f.append("<img src='"+IMGFOOD+"' />"):"TICKET"==b[1]?f.append("<img src='"+IMGTICKET+"' />"):"GIFT"==b[1]?f.append("<img src='"+IMGGIFT+"' />"):"HOUSE"==b[1]?f.append("<img src='"+IMGHOUSE+"' />"):"DEFENSE_SYSTEM"==b[1]?f.append("<img src='"+IMGDS+"' />"):"HOSPITAL"==b[1]?f.append("<img src='"+IMGHOSPITAL+"' />"):"ESTATE"==b[1]&&f.append("<img src='"+IMGESTATE+"' />"),f.append("<img class='qualityMU' src='"+IMGQUALITY+b[0]+IMGEXTENSION+"' />"),g.css({height:"77px"}),y.css({margin:"6px 4px 2px 10px"})),y.bind("mouseover",function(){l!=$(this).attr("selectIndex")&&$(this).addClass("storageButtonHover")}),y.bind("mouseout",function(){l!=$(this).attr("selectIndex")&&$(this).removeClass("storageButtonHover")}),y.bind("click",function(){if(l==$(this).attr("selectIndex"))$(this).removeClass("storageButtonClick"),$(this).removeClass("storageButtonDblClick"),t.find("option").removeAttr("selected"),l=null,r.val("1");else{if(l){var S=a.find(".storageButton[selectIndex='"+l+"']");S.removeClass("storageButtonClick"),S.removeClass("storageButtonDblClick"),r.val("1")}$(this).removeClass("storageButtonHover"),$(this).removeClass("storageButtonDblClick"),$(this).addClass("storageButtonClick"),l=$(this).attr("selectIndex"),t.find("option").removeAttr("selected"),t.find("option")[l].selected=!0}}),y.bind("dblclick",function(){return $(this).removeClass("storageButtonHover"),$(this).removeClass("storageButtonClick"),$(this).addClass("storageButtonDblClick"),l=$(this).attr("selectIndex"),t.find("option").removeAttr("selected"),t.find("option")[l].selected=!0,r.val($(this).text().trim()),!1}),a.append(y),d++}})}function changeMarketOffers(){var t=$("#resourceInput"),a=$(".storage").parent(),r=$("#quantity"),o=$("#productMarketOfferForm").parent();o.children().first().remove(),o.children().first().remove(),o.addClass("leftDivMyOffers"),a.children().remove(),a.addClass("myOffersProduct"),a.append("One click to select <b>ONE item</b>.<br/>Double click to select <b>ALL items</b>.<br/>");var l=$("#countryInput").parent().parent();l.find("b").eq(0).css({display:"inline"}),l.find("b").eq(1).css({display:"inline"}),$("#countryInput").addClass("customSelectList"),t.addClass("customSelectList"),firstFastButton=!0,r.addClass("quantityMyOffers"),$("#priceInput").addClass("priceInputMyOffers");var d=$("<input class='fastBtn FastButtonLeft' type='button' value='10' />");d.bind("click",function(){firstFastButton?r.attr("value","10"):r.attr("value",parseInt(r.attr("value"))+10),firstFastButton=!1});var p=$("<input class='fastBtn FastButtonLeft' type='button' value='50' />");p.bind("click",function(){firstFastButton?r.attr("value","50"):r.attr("value",parseInt(r.attr("value"))+50),firstFastButton=!1});var u=$("<input class='fastBtn FastButtonRight' type='button' value='100' />");u.bind("click",function(){firstFastButton?r.attr("value","100"):r.attr("value",parseInt(r.attr("value"))+100),firstFastButton=!1});var g=$("<input class='fastBtn FastButtonRight' type='button' value='1K' />");g.bind("click",function(){firstFastButton?r.attr("value","1000"):r.attr("value",parseInt(r.attr("value"))+1e3),firstFastButton=!1}),d.insertBefore(r),p.insertBefore(r),g.insertAfter(r),u.insertAfter(r),orderSelect(t),changeSelect(t,a,r,"#aaaaaa"),$(".storage").bind("click",function(){setTimeout(mySendPreviewRequest,500)}),$("#countryInput").unbind("change"),$("#countryInput").bind("change",function(){mySendPreviewRequest()}),$("#resourceInput").unbind("change"),$("#resourceInput").bind("change",function(){mySendPreviewRequest()}),$("#priceInput").unbind("change"),$("#priceInput").bind("change",function(){mySendPreviewRequest()}),$("#priceInput").bind("keydown",function(){setTimeout(mySendPreviewRequest,1e3)})}function mySendPreviewRequest(){if(isFormCorrect()){var t,a=new String(window.location);0<=a.indexOf(URLMarketOffers,0)?t=$("a[href='pendingCitizenshipApplications.html']").prev():0<=a.indexOf(URLStockProducts,0)&&(t=$("a[href*='stockCompanyAssets.html?id=']").prev().prev().prev().prev().prev().prev());var r=IDByImageCountry[t.attr("class").split(" ")[1]],o="country="+$("#countryInput").val()+"&resource="+$("#resourceInput").val();o+="&price="+$("#priceInput").val()+"&citizenship="+r;var l=$("#resourceInput option:selected").text();$("#preview").html("<div class ='previewMyOffers'>Loading tax resource...</div >"),$.ajax({type:"POST",url:"productTaxes.html",data:o,dataType:"html",success:function(d){var p=$("#preview");p.html(d),p.children(".dataTable").addClass("previewDataTable");var u=$("<div class='resourceMyOffers'>"+l+"</div>"),g=URLMarket+"?resource=",f=$("#resourceInput").val().split("-");g+=1==f.length?f[0]+"&countryId="+$("#countryInput").val():f[1]+"&countryId="+$("#countryInput").val()+"&quality="+f[0],u.append("<br /><a class='textMyOffers' href='"+g+"' target='_blank'>Market</a>"),g=URLMonetaryMarket+"?buyerCurrencyId="+$("#countryInput").val()+"&sellerCurrencyId=0",u.append("  |  <a class='MMMyOffers' href='"+g+"' target='_blank'>MM link</a>");var y=p.find(".currencyFlag").first();y.addClass("flagMyOffer"),p.find(".currencyFlag").remove(),u.insertBefore(p.children().first()),y.insertBefore(p.children("b").first()),p.children("b").addClass("titleMyOffers");var b=p.children(".dataTable").find("tr").eq(0);p.children(".dataTable").find("tr").eq(1).children().css({height:"25px"}),b.children().css({height:"22px"}),b.children().eq(0).text("Gross"),b.children().eq(1).text("Net"),b.children().eq(3).text("Tax")}})}}function editOffers(){$(".dataTable tr").each(function(){var t=$(this).parent().children().index($(this)),a=$(this).parent().parent().children().index($(this).parent());$.isNumeric($(this).children("td:eq(2)").text())&&$(this).children("td:eq(2)").append("<a class='editQuanty'>Edit</a>"),$(this).children("td:eq(3):contains(.)").append("<a class='editPrice'>Edit</a>")}),$(".editQuanty").click(function(){numberpatt=/\d{1,30}/,Quanty=$(this).parent().text().match(numberpatt);var t=$(this).parent().next(),a=t.children("div"),r=IDByImageCountry[a.attr("class").split(" ")[1]];qPrice=$(this).parent().next().text().match(/\d{1,30}.\d{2}/),productcell=$(this).parent().prev().prev().html(),quality=productcell.match(/q\d/),quality=quality?quality[0].match(/\d/)+"-":"",termek=productcell.match(/productIcons\/\D.*.png/),type=termek[0].substr(13),type=type.substr(0,type.length-4),type=type.toUpperCase(),deleteId=$(this).parent().next().next().next().next().next().html().match(/\d{1,60}/),$(this).parent().html("<input id='newQuanty' type='text' value='"+Quanty+"' min='1' style='width: 30px' class='digit quantityMyOffers' name='quantity' id='quantity'><input id='editProductMarketOfferForm' type='button' value='Edit' style='cursor: pointer;'></form>"),$("#editProductMarketOfferForm").click(function(){newQuanty=$("#newQuanty").val(),$(this).parent().html("<img src='"+IMGLOAD+"' >"),$.ajax({type:"POST",url:"/citizenMarketOffers.html",async:!1,data:{id:deleteId[0],action:"DELETE_OFFER"}}),$.ajax({type:"POST",url:"/citizenMarketOffers.html",async:!1,data:{countryId:r,product:quality+type,price:qPrice+"",quantity:newQuanty,action:"POST_OFFER"}}),location.reload()})}),$(".editPrice").click(function(){numberpatt=/\d{1,30}/,Quanty=$(this).parent().prev().text().match(numberpatt);var t=$(this).parent().next(),a=t.children("div"),r=IDByImageCountry[a.attr("class").split(" ")[1]];qPrice=$(this).parent().text().match(/\d{1,30}.\d{2}/),productcell=$(this).parent().prev().prev().prev().html(),quality=productcell.match(/q\d/),quality=quality?quality[0].match(/\d/)+"-":"",termek=productcell.match(/productIcons\/\D.*.png/),type=termek[0].substr(13),type=type.substr(0,type.length-4),type=type.toUpperCase(),deleteId=$(this).parent().next().next().next().next().html().match(/\d{1,60}/),$(this).parent().html("<input id='newPrice' type='text' value='"+qPrice+"' min='1' style='width: 30px' class='digit quantityMyOffers' name='quantity' id='quantity'><input id='editProductMarketOfferForm' type='button' value='Edit' style='cursor: pointer;'></form>"),$("#editProductMarketOfferForm").click(function(){newPrice=$("#newPrice").val(),$(this).parent().html("<img src='"+IMGLOAD+"' >"),$.ajax({type:"POST",url:"/citizenMarketOffers.html",async:!1,data:{id:deleteId[0],action:"DELETE_OFFER"}}),$.ajax({type:"POST",url:"/citizenMarketOffers.html",async:!1,data:{countryId:r,product:quality+type,price:newPrice+"",quantity:Quanty[0],action:"POST_OFFER"}}),location.reload()})})}function changeMonetaryMarket(){3==$("#container").children().length&&$("#container").children().last().remove();var t=$("#container").find(".testDivblue"),a=t.eq(2);t.eq(2).hide();var r=t.eq(3),o=t.eq(4),l=t.eq(5);r.addClass("currentOffersMM"),l.addClass("yourOffersMM"),l.children().last().remove(),$("#buy").addClass("customSelectList"),$("#sell").addClass("customSelectList"),$("#offeredMoneyId").addClass("customSelectList"),$("#buyedMoneyId").addClass("customSelectList");var d=$("<div class='monetaryMarketTitleBlock'></div>");d.insertBefore(a),d.append(a);var p=$("<input class='swapView' type='button' value='Swap & View' />");p.insertAfter("#swap2"),p.bind("click",function(){$("#swap2").click(),$("#monetaryMarketView").submit()}),$("#swap2").addClass("swapView"),$("#swap2").bind("click",function(){var I=$("#offeredMoneyId").val();$("#offeredMoneyId").val($("#buyedMoneyId").val()),$("#buyedMoneyId").val(I);var P="Gold";"Gold"!=$("#buyedMoneyId > option:selected").text()&&(P=$("#buyedMoneyId > option:selected").text().substr(0,3)),$("#offeredRate2").text(P),P="Gold","Gold"!=$("#offeredMoneyId > option:selected").text()&&(P=$("#offeredMoneyId > option:selected").text().substr(0,3)),$("#offeredCurrency").text(P),$("#offeredRate1").text(P)});var u=$("<div class='monetaryMarketTitleBlock'></div>");u.insertBefore(a),u.append(o),u.append(r),u.append(l),$("#swap1").addClass("swapYourOffers"),$("#swap1").bind("click",function(){var I=$("#buy").val();if($("#buy").val($("#sell").val()),$("#sell").val(I),"0"==$("#offeredMoneyId").val()){var P=$(".monetaryMarketCurrencyBlock").find(".currencySelector[id='"+$("#buyedMoneyId").val()+"']"),D="0.0";0!=P.length&&(D=P.children("b").text()),$("#value").val(D)}else $("#value").val("0.0")}),$("#buyedMoneyId").next().remove(),$("#value").addClass("priceInputMM"),$("#exchangeRatio").addClass("priceInputMM");var g=$("<div class='monetaryMarketCurrencyBlock'></div>");g.addClass("testDivblue"),d.append(g);var f=$("#hiddenMoney").parent();f.find(".flags-small").each(function(){var I=IDByImageCountry[$(this).attr("class").split(" ")[1]],P=$("<div class='currencySelector'></div>");P.attr("id",I),0==I&&(selectedCurrency=P),P.append("<div class='"+$(this).attr("class")+"'></div>"),P.append("<b>"+$(this).next().text()+" </b>");var D=$("#buy").children("option[value='"+I+"']").text().split(" ");P.append(D[0]),g.append(P),P.bind("click",function(){var A=$(this).attr("id");if("0"!=A&&A!=selectedCurrency.attr("id")){selectedCurrency&&selectedCurrency.removeClass("selectedCurrency"),"0"==$("#buy").val()?$("#sell").val(A):$("#buy").val(A),"0"==$("#offeredMoneyId").val()?$("#buyedMoneyId").val(A):$("#offeredMoneyId").val(A),$(this).addClass("selectedCurrency"),selectedCurrency=$(this);var L="Gold";"Gold"!=$("#buyedMoneyId > option:selected").text()&&(L=$("#buyedMoneyId > option:selected").text().substr(0,3)),$("#offeredRate2").text(L),L="Gold","Gold"!=$("#offeredMoneyId > option:selected").text()&&(L=$("#offeredMoneyId > option:selected").text().substr(0,3)),$("#offeredCurrency").text(L),$("#offeredRate1").text(L),"0"==$("#buyedMoneyId").val()?$("#value").val($(this).children("b").text()):$("#value").val("0.0")}})});var y="#value",b=!0,S=$("<input class='priceFastButton' type='button' value='1' />");S.bind("click",function(){b?$(y).attr("value","1"):$(y).attr("value",parseInt($(y).attr("value"))+1),b=!1});var k=$("<input class='priceFastButton' type='button' value='5' />");k.bind("click",function(){b?$(y).attr("value","5"):$(y).attr("value",parseInt($(y).attr("value"))+5),b=!1});var M=$("<input class='priceFastButton' type='button' value='10' />");M.bind("click",function(){b?$(y).attr("value","10"):$(y).attr("value",parseInt($(y).attr("value"))+10),b=!1});var T=$("<input class='priceFastButton' type='button' value='50' />");T.bind("click",function(){b?$(y).attr("value","50"):$(y).attr("value",parseInt($(y).attr("value"))+50),b=!1});var C=$("<input class='priceFastButton' type='button' value='100' />");C.bind("click",function(){b?$(y).attr("value","100"):$(y).attr("value",parseInt($(y).attr("value"))+100),b=!1});var B=$("<input class='priceFastButton' type='button' value='500' />");B.bind("click",function(){b?$(y).attr("value","500"):$(y).attr("value",parseInt($(y).attr("value"))+500),b=!1});var w=$("#offeredRate2").next();S.insertBefore(w),k.insertBefore(w),M.insertBefore(w),T.insertBefore(w),C.insertBefore(w),B.insertBefore(w);var G=$("<input class='postOfferButton' type='button' value='Post new offer' />"),w=$("#monetaryOfferPost").children("center").children("input");G.insertBefore(w),w.hide(),G.click("click",function(){var I=parseFloat($("#value").val()),P=parseFloat($("#exchangeRatio").val()),D=confirm("Sell "+I+" "+$("#offeredCurrency").text()+" for "+I*P+" "+$("#offeredRate2").text());D&&$("#monetaryOfferPost").submit()})}function changeMonetaryMarketTable(){$(".dataTable").find("input[type='text']").addClass("inputTextTable");var t=$(".dataTable").find("input[type='submit']").addClass("inputSubmitTable"),a=$("<input class='buyAllSubmit' type='submit' value='All' />");a.bind("click",function(){var r=$(this).parent().parent().prev().prev().text().match(/\d{1,10}.\d{1,5}/);return $(this).parent().children("input[type='text']").val(r),!1}),a.insertBefore(t),$(".dataTable").addClass("dataTableMod"),$(".dataTable > tbody > tr:first-child > td").addClass("dataTableHeaders")}function monetaryMarketPriceEdit(){$(".dataTable:eq(1) tr:not(:first)").each(function(){$(this).children("td:eq(0)").append(" <a class='editQuanty'>Edit</a>"),$(this).children("td:eq(1)").append(" <a class='editPrice'>Edit</a>")}),$(".editQuanty").click(function(){SellValue=/(\d{1,30}.\d\d) ([a-zA-Z]{3,4})/gim.exec($(this).parent().text()),Quanty=SellValue[1],SellCC=SellValue[2],BuyValue=/= (\d{1,10}.{0,1}\d{0,4}) ([a-zA-Z]{3,4})/gim.exec($(this).parent().next().text()),ratio=BuyValue[1],BuyCC=BuyValue[2],href=$(this).parent().next().next().find("a").attr("href"),$(this).parent().html("<input id='newQuanty' type='text' value='"+Quanty+"' min='1' style='width: 30px' class='digit quantityMyOffers' name='quantity' id='quantity'><input id='editProductMarketOfferForm' type='button' value='Edit' style='cursor: pointer;'></form>"),$("#editProductMarketOfferForm").click(function(){newQuanty=$("#newQuanty").val(),$(this).parent().html("<img src='"+IMGLOAD+"' >"),$.ajax({type:"GET",url:"/monetaryMarket.html"+href,async:!1}),$.ajax({type:"POST",url:"/monetaryMarket.html?action=post",async:!1,data:{offeredMoneyId:IDbyCC[SellCC],buyedMoneyId:IDbyCC[BuyCC],value:newQuanty,exchangeRatio:ratio+""}}),location.reload()})}),$(".editPrice").click(function(){SellValue=/(\d{1,30}.\d\d) ([a-zA-Z]{3,4})/gim.exec($(this).parent().prev().text()),Quanty=SellValue[1],SellCC=SellValue[2],BuyValue=/= (\d{1,10}.{0,1}\d{0,4}) ([a-zA-Z]{3,4})/gim.exec($(this).parent().text()),ratio=BuyValue[1],BuyCC=BuyValue[2],href=$(this).parent().next().find("a").attr("href"),$(this).parent().html("<input id='newratio' type='text' value='"+ratio+"' min='1' style='width: 30px' class='digit quantityMyOffers' name='quantity' id='quantity'><input id='editProductMarketOfferForm' type='button' value='Edit' style='cursor: pointer;'></form>"),$("#editProductMarketOfferForm").click(function(){newRatio=$("#newratio").val(),$(this).parent().html("<img src='"+IMGLOAD+"' >"),$.ajax({type:"GET",url:"/monetaryMarket.html"+href,async:!1}),$.ajax({type:"POST",url:"/monetaryMarket.html?action=post",async:!1,data:{offeredMoneyId:IDbyCC[SellCC],buyedMoneyId:IDbyCC[BuyCC],value:Quanty+"",exchangeRatio:newRatio+""}}),location.reload()})})}function monetaryMarketPriceRatio(){var t=0,a=0;$(".dataTable:eq(0) tr:not(:first)").each(function(){amount=$(this).children("td:eq(1)").children("b").attr("title"),ratio=$(this).children("td:eq(2)").children("b").html();var r=/\d+ (\w{2,4}) = <b>[\d\.]+<\/b> (\w{2,4})/.exec($(this).children("td:eq(2)").html()),o=r[2],l=r[1];r=void 0,$(this).children("td:eq(1)").append("<br/> All: <b>"+Math.round(100*(amount*ratio))/100+"</b> "+o),t=IDbyCC[l],a=IDbyCC[o]}),$.ajax({url:"/monetaryMarket.html?buyerCurrencyId="+a+"&sellerCurrencyId="+t,async:!1}).done(function(r){versus_offer=$(r).find(".dataTable:eq(0) tr:eq(1) td:eq(2)").html(),$(".dataTable:eq(0) tr:not(:first)").each(function(){$(this).children("td:eq(2)").append("<br/>"+versus_offer)})})}function BattleStatsMinimize(){if($("#battleHeaderImage").remove(),$("#battleStats").show(),$("#battleSelectable:first + #battleSelectable div.small-10:first > #moreBattleStats").remove(),$("#battleSelectable:first + #battleSelectable div.small-10:first").css({"padding-bottom":"1px"}),$("#battleStats").insertBefore($("#battleSelectable:first + #battleSelectable div.small-10:first")),$("<div id=\"wrapperBattleStatsButtons\" class=\"foundation-style small-10 columns\" style=\"margin-bottom:.4em;\"></div>").insertBefore($("#battleSelectable:first + #battleSelectable div.small-4:first")),$("<div id=\"showTop3BattleStats\" style=\"padding-bottom:.4em;padding-top:.4em;margin:.4em .4em 0 .4em;\" class=\"foundation-style button\"> Show Top 3 </div>").appendTo($("#wrapperBattleStatsButtons")),$("<div id=\"showTop10BattleStats\" style=\"padding-bottom:.4em;padding-top:.4em;margin:.4em .4em 0 .4em;\" class=\"foundation-style button\"> Show Top 10 </div>").appendTo($("#wrapperBattleStatsButtons")),$("<div id=\"showRecentActionsBattleStats\" style=\"padding-bottom:.4em;padding-top:.4em;margin:.4em .4em 0 .4em;\" class=\"foundation-style button\"> Recent Actions </div>").appendTo($("#wrapperBattleStatsButtons")),$("<div id=\"showSpectatorsBattleStats\" style=\"padding-bottom:.4em;padding-top:.4em;margin:.4em .4em 0 .4em;\" class=\"foundation-style button\"> Spectators </div>").appendTo($("#wrapperBattleStatsButtons")),$("#wrapperBattleStatsButtons + div.small-4, #wrapperBattleStatsButtons + div.small-4 + div.small-2, #wrapperBattleStatsButtons + div.small-4 + div.small-2 + div.small-4").addClass("Top3BattleStatsElements"),$("#battleStats > div.small-10:first").addClass("Top10BattleStatsElements"),$(".Top10BattleStatsElements + div.small-10").addClass("RecentActionsBattleStatsElements"),$(".RecentActionsBattleStatsElements + div.small-10, .RecentActionsBattleStatsElements + div.small-10 + div.small-10").addClass("SpectatorsBattleStatsElements"),$(".Top3BattleStatsElements").css("display",$.jStorage.get("SGTop3BattleStatsElements","none")),$("#showTop3BattleStats").click(function(){$(".Top3BattleStatsElements").toggle("fast",function(){$.jStorage.set("SGTop3BattleStatsElements",$(".Top3BattleStatsElements").css("display"))})}),$(".Top10BattleStatsElements").css("display",$.jStorage.get("SGTop10BattleStatsElements","none")),$("#showTop10BattleStats").click(function(){$(".Top10BattleStatsElements").toggle("fast",function(){$.jStorage.set("SGTop10BattleStatsElements",$(".Top10BattleStatsElements").css("display"))})}),$(".RecentActionsBattleStatsElements").css("display",$.jStorage.get("SGRecentActionsBattleStatsElements","none")),$("#showRecentActionsBattleStats").click(function(){$(".RecentActionsBattleStatsElements").toggle("fast",function(){$.jStorage.set("SGRecentActionsBattleStatsElements",$(".RecentActionsBattleStatsElements").css("display"))})}),$(".SpectatorsBattleStatsElements").css("display",$.jStorage.get("SGSpectatorsBattleStatsElements","none")),$("#showSpectatorsBattleStats").click(function(){$(".SpectatorsBattleStatsElements").toggle("fast",function(){$.jStorage.set("SGSpectatorsBattleStatsElements",$(".SpectatorsBattleStatsElements").css("display"))})}),5>$("#recentDefenders > span").length)for(count=$("#recentDefenders > span").length;5>count;)$("#recentDefenders").append("<span></span>"),count++;if(5>$("#recentAttackers > span").length)for(count=$("#recentAttackers > span").length;5>count;)$("#recentAttackers").append("<span></span>"),count++}function ModalWindowFunc(t){switch(t){case 1:window.picoModal=function(){return lastModalWindow.remove(),lastModalWindow=$("#fightResponse > div").clone(),$.blockUI({message:lastModalWindow,fadeIn:400,fadeOut:400,timeout:2e3,showOverlay:!1,centerY:!1,css:{width:"300px",top:"50px",left:"50%",right:"",margin:"0px 0px 0px -55px",border:"none",padding:"5px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:.9,color:"#fff",cursor:"default","font-size":"16px"}}),!0};break;case 2:window.picoModal=function(){return!0},$("#fightStatus").attr("style","").show().removeClass("testDivblue").addClass("fightContainer"),$("#fightResponse").hide().addClass("foundation-style small-10 columns"),$("<div id=\"wrapperStatusActionButtons\" class=\"foundation-style small-10 columns\" style=\"margin-bottom:.4em;\"></div>").insertBefore($("#fightResponse")),$("<div id=\"SGShowStatusAction\" style=\"padding-bottom:.4em;padding-top:.4em;margin:.4em .4em 0 .4em;\" class=\"foundation-style button\"> Show Status Action </div>").appendTo($("#wrapperStatusActionButtons")),$("#fightResponse").css("display",$.jStorage.get("SGShowStatusActionButton","none")),$("#SGShowStatusAction").click(function(){$("#fightResponse").toggle("fast",function(){$.jStorage.set("SGShowStatusActionButton",$("#fightResponse").css("display"))})});break;default:}}function SendMSG(t,a,r,o){setTimeout(function(){$.ajax({type:"POST",url:"/composeMessage.html",data:{receiverName:t,title:a,body:r,action:"REPLY"},success:function(){$("#LeftMSG").text(parseInt($("#LeftMSG").text())+1),parseInt($("#LeftMSG").text())==parseInt($("#AllMSG").text())&&$.unblockUI()}})},o)}function MUBrodcastMsg(){$("div.blueLabel.unitStatusOptions:last").after("<div class=\"blueLabel unitStatusOptions\"><a href=\"#\" id=\"SG_BRC_MSG\" style=\"font-weight: bold\">SG Broadcast MSG</a></div>"),$("#SG_BRC_MSG").click(function(){$.blockUI({message:$("<center><b style=\"font-size:17px\">SG Broadcast MSG</b></center><center><div id=\"SG_MSG\" class=\"foundation-style blueLabel \" style=\"margin-bottom:15px; width:530px;\"><b style=\"display:block\">Title:</b><input type=\"text\" style=\"width: 400px;\" path=\"title\" maxlength=\"100\" minlength=\"1\" id=\"titleInput\" value=\"Broadcast from military unit\"><br><script language=\"JavaScript\">function append(textBefore, textAfter)  {var yourTextarea = document.getElementById('messageForm');var selectionStart = yourTextarea.selectionStart;var selectionText = yourTextarea.value.substr(yourTextarea.selectionStart, yourTextarea.selectionEnd-yourTextarea.selectionStart);var prefix = yourTextarea.value.substr(0, yourTextarea.selectionStart);var postfix = yourTextarea.value.substr(yourTextarea.selectionEnd);yourTextarea.value = prefix+\"\"+textBefore+\"\" + selectionText + \"\"+textAfter+\"\"+postfix;yourTextarea.selectionStart = selectionStart;yourTextarea.focus();};</script><b>Message:</b><br><textarea style=\"width:95%; height: 250px;\" name=\"body\" maxlength=\"10000\" id=\"messageForm\"></textarea><p style=\"display:inline\"> Characters remaining:     </p><p class=\"charsRemaining\" style=\"display:inline;\">10000</p><p></p><p style=\"clear: both\"></p><div style=\"display: inline\" class=\"bbcodebuttons\"><input type=\"button\" onclick=\"javascript: append('[b]','[/b]')\" value=\"B\" id=\"boldButton\" name=\"boldButton\" style=\"cursor: pointer;\"><input type=\"button\" onclick=\"javascript: append('[i]','[/i]')\" value=\"I\" id=\"italicButton\" name=\"italicButton\" style=\"cursor: pointer;\"><input type=\"button\" onclick=\"javascript: append('[u]','[/u]')\" value=\"U\" id=\"underlineButton\" name=\"underlineButton\" style=\"cursor: pointer;\"><input type=\"button\" onclick=\"javascript: append('[quote]','[/quote]')\" value=\"Quote\" id=\"quoteButton\" name=\"quoteButton\" style=\"cursor: pointer;\"><input type=\"button\" onclick=\"javascript: append('[url=LINK]','[/url]')\" value=\"Url\" id=\"urlButton\" name=\"urlButton\" style=\"cursor: pointer;\"><input type=\"button\" onclick=\"javascript: append('[citizen]citizen name[/citizen]','')\" value=\"Citizen\" id=\"citizenButton\" name=\"citizenButton\" style=\"cursor: pointer;\"><input type=\"button\" onclick=\"javascript: append('[currency]PLN[/currency]','')\" value=\"Currency\" id=\"currencyButton\" name=\"currencyButton\" style=\"cursor: pointer;\"><input type=\"button\" onclick=\"javascript: append('[center]','[/center]')\" value=\"Center\" id=\"boldButton\" name=\"centerButton\" style=\"cursor: pointer;\"><br /><br /><a href=\"javascript: append(':)','')\"><img border=\"0\" src=\""+IMGSMILE+"\"> </a><a href=\"javascript: append(':D','')\"><img border=\"0\" src=\""+IMGBIGSMILE+"\"> </a><a href=\"javascript: append(':\\','')\"><img border=\"0\" src=\""+IMGCIACH+"\"> </a><a href=\"javascript: append(':P ','')\"><img border=\"0\" src=\""+IMGTONQUE+"\"> </a><a href=\"javascript: append(':( ','')\"><img border=\"0\" src=\""+IMGUNHAPPY+"\"> </a><a href=\"javascript: append(';) ','')\"><img border=\"0\" src=\""+IMGEYE+"\"> </a></div><p style=\"cleat: both\"></p><input type=\"hidden\" value=\"REPLY\" name=\"action\"><input type=\"button\" id=\"SENDMSG\" value=\"Send\" style=\"cursor: pointer;\"> &nbsp; <input type=\"button\" value=\"Close\" id=\"ClosewButton\" style=\"cursor: pointer;\"><p style=\"clear: both\"></p> </div></center>"),css:{top:"48px",left:($(window).width()-600)/2+"px",width:"600px",border:"0px",position:"absolute",textAlign:"left"}}),$("#ClosewButton").click(function(){$.unblockUI()}),$("#SENDMSG").click(function(){IdArray=[],$("div.testDivblue > center + br + div > div > a.profileLink").each(function(){"rgb(55, 135, 234)"==$(this).css("color")&&(IdArray[IdArray.length]=$(this).text().replace(/ /g,""))}),msgTitle=$("#titleInput").val(),msgBody=$("#messageForm").val(),$("#SG_MSG").html("<center><p style=\"text-align: center;\"><h1>Dont Close...</h1><img alt=\"\" src=\""+IMGLOADBAR+"\" style=\"margin-left:-13px; width: 562px; height: 126px;\" /></p><p style=\"text-align: center;\"><span style=\"font-size:36px;\"><span id=\"LeftMSG\">0</span>/<span id=\"AllMSG\">"+IdArray.length+"</span></span></p></center>"),IdArray.forEach(function(t,a){SendMSG(t,msgTitle,msgBody,11000*a)})})})}function TextStorage(){$("<div id=\"TextStorage\" style=\"width:350px;float: left; text-align: left\" class=\"testDivwhite\"><ul></ul></div>").insertAfter($(".testDivwhite > div.storage:first").parent()),$(".testDivwhite > div.storage").each(function(){var t=$.trim($(this).children("div:first").text()),a=/\/(\w+)\.png/gim.exec($(this).children("div:eq(1)").children("img:first").attr("src"))[1],r="";1<$(this).children("div:eq(1)").children("img").length&&(r=" "+/\/(q\d)\.png/gim.exec($(this).children("div:eq(1)").children("img:eq(1)").attr("src"))[1]),$("<li>"+a+r+":"+t+"</li>").appendTo("#TextStorage > ul")})}function resizeProductImage(t){t.each(function(){var a=$(this).parent(),r=a.find("img");a.children().remove();var o=$("<div style='url('"+IMGSTRIPS+"') repeat scroll 0 0 #3D6571'></div>");o.append(r.eq(0).addClass("productImage")),1<r.length&&o.append(r.eq(1).addClass("productQuality")),a.append(o)})}function addCompanyButtons(){var t=IDByImageCountry[$("a[href^='region.html']").prev().attr("class").split(" ")[1]],a=$(".workerListDiv"),r=$(".offerListDiv"),o=$("<input class='updateSalariesButton' type='button' value='Update salaries'/>");o.insertBefore(a.children().first()),o.bind("click",function(){a.find(".redText").remove(),a.find(".greenText").remove();var p=0,u=[];a.find(".tableRow").each(function(){var g=$(this).find("td"),f=parseInt(g.eq(1).text());-1==u.indexOf(f)&&(u.push(f),setTimeout(function(){$.ajax({url:URLJobMarket+"?countryId="+t+"&minimalSkill="+f,success:function(y){var b=$(y).find(".dataTable").find("tr"),S=b.eq(1).find("td").eq(4).children("b").text();S=parseFloat(S),a.find(".workerSkill"+f).each(function(){var k,M,T=parseFloat($(this).children(".salary").children("b").text());T<S?(k="redText",M="-"+parseInt(1e4*(S/T-1))/100):(k="greenText",M="+"+parseInt(1e4*(T/S-1))/100),$(this).append("<b class='"+k+"'>"+S+" ("+M+"%)</b>")})}})},500*p),p++)})});var l=$("<input class='updateJobsButton' type='button' value='Update jobs'/>");if(l.insertBefore(a.children().first()),l.bind("click",function(){var p=getUrlVars().id;$.ajax({url:URLCompanyDetails+p,success:function(u){$(u).find("#productivityTable").find("tr").each(function(){var g=$(this).children("td").last(),f=$(this).find("a");if(f){var y=a.find("a[href='"+f.attr("href")+"']").parent();2==g.children("div").length?(y.append("<br/>"),y.append("<b>"+g.children().eq(1).text().replace("(","").replace(")","")+"</b>"),y.addClass("greenBackgroundCompany")):y.addClass("redBackgroundCompany")}})}})}),1==$("#createJobForm td:last").length){var d=$("<input class='updateJobSalary' type='button' value='Update job salary'/>");d.appendTo("#createJobForm td:last"),d.bind("click",function(){var p=$("input[name='minimalSkill']").val();$(".workerListDiv table.dataTable tr:not(:first) > .workerSkill"+p+" > div > form").each(function(){var g=$(this).find("input[name='id']").val(),f=$(this).find("input[name='workerId']").val(),y=$(this).find("input[name='action']").val(),b=$("input[name='price']").val();$.ajax({type:"POST",url:"company.html",async:!1,data:"id="+g+"&workerId="+f+"&action="+y+"&newSalary="+b})});var u=NotifyMotivateTemp;u=u.replace("{1}","update_salary_completed"),u=u.replace("{2}","Salary Notification"),u=u.replace("{3}","Update salary completed"),MotivateNotify(u)})}}function companyImprovements(){14==$("#minimalSkill option").length&&($("#minimalSkill").append("<option value='15'>15</option>"),$("#minimalSkill").append("<option value='16'>16</option>"));var t=$("#container").find(".testDivblue"),a=t.eq(2).find("table").eq(1),r=a.find("tr").first().children("td").first();r.next().children().css({"max-width":"100%"}),r.remove();var o=IDByImageCountry[$("a[href^='region.html']").prev().attr("class").split(" ")[1]];if(6==t.length){var l=t.eq(5),d=t.eq(4),p=t.eq(3),u=p.children().first();p.children().first().remove(),u.insertBefore(p),$("<br/>").insertBefore(p);var g=$("<div style='display:inline-block; width:100%'></div>");g.insertBefore(p),g.append(d),g.append(l),p.css({"margin-top":"15px"}),u.removeClass("testDivwhite"),u.addClass("testDivblue").css({width:"680px"}),u.children("p").remove();var f=null;$("#minimalSkill option").each(function(){var M=$("<div class='skillSelector'>"+$(this).val()+"</div>");M.insertBefore("#minimalSkill"),M.bind("click",function(){f&&f.removeClass("skillSelectorSelected"),f=$(this),f.addClass("skillSelectorSelected"),$("#minimalSkill").val(f.text());var T=URLJobMarket+"?countryId="+o+"&minimalSkill="+$(this).text();$(".companyLinkOffers").attr("href",T)})}),$("#minimalSkill").hide();var y=$("#minimalSkill").parent();y.attr("colspan","4"),u.find("table").css({width:"100%"});var b=$("<tr></tr>");b.append(y.next().css({width:"33%"}));var S=$("<td style='width:18%;'></td>"),k=$("<a class='companyLinkOffers' href='' target='_blank'>View skill offers</a>");b.append(S.append(k)),b.append(y.next().css({width:"17%"})),b.append(y.next().css({width:"26%"})),y.parent().parent().append(b),$(".skillSelector").first().click(),$("#price").addClass("priceInputCompany"),$("#price").bind("focus",function(){$(this).select()}),$("#quantity").addClass("quantityMyOffers"),$("#quantity").bind("focus",function(){$(this).select()})}else var l=t.eq(4),d=t.eq(3);l.addClass("workerListDiv"),d.addClass("offerListDiv"),a.children("p").remove(),a.find(".productLabelRight").css({height:"auto",width:"40px"}),l.find(".tableRow").each(function(){var M=$(this).find("td"),T=parseInt(M.eq(1).text()),C=$("<a href='"+URLJobMarket+"?countryId="+o+"&minimalSkill="+T+"'>View</a>");M.eq(1).append("<br/>"),M.eq(1).append(C),M.eq(2).addClass("workerSkill"+T)}),$("input[name=newSalary]").addClass("priceInputCompany"),$("input[name=newSalary]").bind("focus",function(){$(this).select()}),$("input[name=salary]").addClass("priceInputCompany"),$("input[name=salary]").bind("focus",function(){$(this).select()})}function companyWorkResults(){var t=$("#container").find(".testDivwhite "),a=t.find("table");a.find(".productLabelRight").css({height:"auto",width:"40px"}),resizeProductImage(a.find(".product"));var r=$(".column-margin-vertical.column.small-8 > div.testDivblue:first > h1");r.html("<a href='company.html?id="+getUrlVars().id+"'>"+r.html()+"</a>"),r.find("a").attr("style","font-family:'Open Sans',Arial; font-size: 26px!important;");var o=$("<div class='testDivblue' style='width:500px;'></div>"),l=$("<input class='companyGetSalary' type='button' value='Calculate'/>");o.append(l),o.insertAfter(t.prev());var d=$("#container").find(".testDivwhite"),p=getUrlVars().id;l.bind("click",function(){$("td.playerSalary").remove();var u=0;d.find("tr").each(function(){var g=$("<td class='playerSalary'></td>");0==u&&g.append("Salary"),$(this).append(g),u++}),d.css({width:"785px"}),d.find("table").css({width:"100%"}),$.ajax({url:URLCompany+p,success:function(g){var f=$(g).find(".testDivblue");if(6==f.length)var y=f.eq(5).find(".tableRow");else var y=f.eq(4).find(".tableRow");checkPlayersSalary(y,d)}})})}function checkPlayersSalary(t,a){for(t.each(function(){var o=$(this).find("a[href^='profile.html']"),l=$(this).find(".salary");l.removeClass("salary"),3==l.children().length&&l.children().last().remove(),a.find("tr").each(function(){if(1==$(this).find("a[href='"+o.attr("href")+"']").length){$(this).find(".playerSalary").append(l),$("<br/>").insertBefore(l.children("b"));var d=l.contents().eq(5).text(),p=parseFloat(l.children("b").text());$(this).find("td").each(function(){if(2==$(this).children().length){$(this).children().eq(1).css({color:"#009900"});var u=$(this).children("div").eq(1).text();if(u=u.replace(/[\(\)]/g,""),u=parseFloat(u),!isNaN(u)){var g=$("<div class='finalPrice'>"+parseInt(1e3*(p/u))/1e3+"</div>");g.append("<br/>"),g.append("<span> "+d+"</span>"),$(this).append(g)}}})}})}),trNumber=a.find("tr").length,0==$("#sum_1").length?($("#productivityTable > tbody:last").append("<tr><td colspan=\"2\"><b>Sum:</b></td><td id=\"sum_1\"></td><td id=\"sum_2\"></td><td id=\"sum_3\"></td><td id=\"sum_4\"></td><td id=\"sum_5\"></td><td id=\"sum_6\"></td><td id=\"sum_7\"></td><td id=\"sum_8\"></td><td id=\"sum_9\"></td><td id=\"sum_10\"></td><td id=\"sum_11\"></td></tr>"),$("#productivityTable > tbody:last").append("<tr><td colspan=\"2\"><b>Avarage:</b></td><td id=\"avg_1\"></td><td id=\"avg_2\"></td><td id=\"avg_3\"></td><td id=\"avg_4\"></td><td id=\"avg_5\"></td><td id=\"avg_6\"></td><td id=\"avg_7\"></td><td id=\"avg_8\"></td><td id=\"avg_9\"></td><td id=\"avg_10\"></td><td id=\"avg_11\"></td></tr>")):($("#productivityTable > tbody tr:last td:last").remove(),$("#productivityTable > tbody tr:eq(-2) td:last").remove()),i=3;13>i;i++){if(col=$("#productivityTable tr>td:nth-child("+i+")").text(),col=col.replace(/\t/g,""),Productivity=col.match(/\d{0,10}\.\d{0,2}[\n\r]/g),Product=col.match(/\(\d{0,10}\.\d{0,2}\)/g),price_one=col.match(/\d{1,5}\.\d{0,3}\s{2}\w+/g),null!=Productivity){Productivity=Productivity.join().match(/\d{0,10}\.\d{0,2}/g),Sum_productivity=0;for(var r=0;r<Productivity.length;r++)Sum_productivity+=+Productivity[r];average_productivity=Sum_productivity/Productivity.length}else Sum_productivity=0,average_productivity=0;if(null!=Product){Product=Product.join().match(/\d{0,10}\.\d{0,2}/g),Sum_product=0;for(var r=0;r<Product.length;r++)Sum_product+=+Product[r];average_product=Sum_product/Product.length}else Sum_product=0,average_product=0;if(null!=price_one){price_one=price_one.join().match(/\d{1,5}\.\d{0,3}/g),Sum_price_one=0;for(var r=0;r<price_one.length;r++)Sum_price_one+=+price_one[r];average_price_one=Sum_price_one/price_one.length}else Sum_price_one=0,average_price_one=0;$("#sum_"+(i-2)).html("<div>"+Sum_productivity.toFixed(2)+"</div><div style='color: rgb(0, 153, 0);font-weight:normal;'>"+Sum_product.toFixed(2)+"</div>"),$("#avg_"+(i-2)).html("<div>"+average_productivity.toFixed(2)+"</div><div style='color: rgb(0, 153, 0);'>"+average_product.toFixed(2)+"</div><div class='finalPrice'>"+average_price_one.toFixed(4)+"</div>")}col_sal=$("#productivityTable tr>td:nth-child(13)").text(),sal=col_sal.match(/\d{1,3}\.\d{0,2}/g),Sum_sal=0;for(var r=0;r<sal.length;r++)Sum_sal+=+sal[r];average_sal=Sum_sal/sal.length,$("#avg_11").html("<div style='color: rgb(0, 153, 0);'>"+average_sal.toFixed(2)+"</div>"),$("#sum_11").html("<div style='color: rgb(0, 153, 0);'>"+Sum_sal.toFixed(2)+"</div>")}function companyAllWorkersPage(){$("<div style=\"width:520px;min-height:30px;line-height:20px;\" class=\"testDivblue\"><h1><span></span>Back to company</h1><p style=\"clear: both\"></p> </div><br>").insertBefore("#userMenu + script + div > :first");var t=$(".column-margin-vertical.column.small-8 > div.testDivblue:first > h1");t.html("<a href='company.html?id="+getUrlVars().id+"'>"+t.html()+"</a>"),t.find("a").attr("style","font-family:'Open Sans',Arial; font-size: 26px!important;")}function addMenu(){var t=$("<li class='version'><a href='/' target='_blank'> ADMIN</a></li>");$(".foundation-left").append(t),$(".foundation-left").append("<li class='divider'></li>")}function twoClickNotify(t){$.blockUI({message:t,fadeIn:700,fadeOut:700,timeout:2e3,showOverlay:!1,centerY:!1,css:{width:"350px",top:"50px",left:"",right:"10px",border:"none",padding:"5px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:.9,color:"#fff"}})}function twoClick(){var t=$.jStorage.get("SGTwoClick",!1),a=$("#contentDrop > a:first").text(),r=$.jStorage.get("SGTwoClickPassword","");msgNotify=NotifyTwoClickTemp;var l=!1,d=!1;t&&""!=a&&""!=r&&$.ajax({url:"mobile/login",type:"POST",data:"{\"username\":\""+a+"\",\"password\":\""+r+"\",\"rememberMe\":false}",contentType:"application/json; charset=utf-8",dataType:"json",success:function(p){tokenEsim=p.token,$.ajax({url:"mobile/train",type:"GET",contentType:"application/json; charset=utf-8",headers:{token:tokenEsim},dataType:"json",success:function(u){l=u.trainedToday,l||$.ajax({url:"mobile/train",type:"POST",data:"{}",contentType:"application/json; charset=utf-8",headers:{token:tokenEsim},dataType:"json",success:function(g){l=g.trainedToday,l?(msgNotify=msgNotify.replace("{1}","succesfully_trained"),msgNotify=msgNotify.replace("{2}","Two Click Notification"),msgNotify=msgNotify.replace("{3}","Succesfully trained"),twoClickNotify(msgNotify)):(msgNotify=msgNotify.replace("{1}","unsuccesfully_trained"),msgNotify=msgNotify.replace("{2}","Two Click Notification"),msgNotify=msgNotify.replace("{3}","Unsuccesfully trained"),twoClickNotify(msgNotify))}})}}),$.ajax({url:"mobile/work",type:"GET",contentType:"application/json; charset=utf-8",headers:{token:tokenEsim},dataType:"json",success:function(u){d=u.workedToday,d||$.ajax({url:"mobile/work",type:"POST",data:"{}",contentType:"application/json; charset=utf-8",headers:{token:tokenEsim},dataType:"json",success:function(g){d=g.workedToday,d?(msgNotify=msgNotify.replace("{1}","succesfully_worked"),msgNotify=msgNotify.replace("{2}","Two Click Notification"),msgNotify=msgNotify.replace("{3}","Succesfully worked"),twoClickNotify(msgNotify)):(msgNotify=msgNotify.replace("{1}","unsuccesfully_worked"),msgNotify=msgNotify.replace("{2}","Two Click Notification"),msgNotify=msgNotify.replace("{3}","Unsuccesfully worked"),twoClickNotify(msgNotify))}})}})},error:function(p,u,g){console.log(g),msgNotify=msgNotify.replace("{1}","unsuccesfully_worked"),msgNotify=msgNotify.replace("{2}","Two Click Notification"),msgNotify=msgNotify.replace("{3}","Unsuccesfully login"),twoClickNotify(msgNotify)}}),l&&d||window.setTimeout(twoClick,6e5)}$(document).ready(function(){inGameCheck()&&(Main(),0<$.jStorage.get("SGAutoMotivateType",0)&&AutoMotivate(),$.jStorage.get("SGTwoClick",!1)&&twoClick(),$.jStorage.get("SGImgSrcFixMode",!1)&&ImgSrcFix(),$.jStorage.get("SGScriptAndStyleSrcFixMode",!1)&&ScriptAndStyleSrcFix(),0<=localUrl.indexOf(URLMUDonations,0)?($.jStorage.get("SGMUDonationsLogMode",!1)&&MUDonationsLog(),$.jStorage.get("SGMUTextStorageMode",!0)&&TextStorage()):0<=localUrl.indexOf(URLTransactionLog,0)?$.jStorage.get("SGTransactionLogMode",!1)&&TransactionLog():0<=localUrl.indexOf(URLCitizen,0)?$.jStorage.get("SGCitizenBroadcastMSG",!0)&&citizenBroadcastMSG():0<=localUrl.indexOf(URLEquipment,0)?$.jStorage.get("SGEquipmentFastMode",!0)&&EquipmentFastMode():0<=localUrl.indexOf(URLMarket,0)?$.jStorage.get("SGNewTableProductMarket",!0)?NewTableProductMarket():($.jStorage.get("SGChangeProductMarketTable",!0)&&changeProductMarketTable(),$.jStorage.get("SGDisplayGoldValue",!0)&&displayGoldValue()):0<=localUrl.indexOf(URLMarketOffers,0)?($.jStorage.get("SGChangeMarketOffers",!0)&&changeMarketOffers(),$.jStorage.get("SGEditOffers",!0)&&editOffers()):0<=localUrl.indexOf(URLMonetaryMarket,0)?($.jStorage.get("SGChangeMonetaryMarketTable",!0)&&changeMonetaryMarketTable(),$.jStorage.get("SGMonetaryMarketPriceEdit",!0)&&monetaryMarketPriceEdit(),$.jStorage.get("SGMonetaryMarketPriceRatio",!0)&&monetaryMarketPriceRatio()):0<=localUrl.indexOf(URLBattle,0)?(0==$("#totalattackers").length&&CreateSpectatorsBlock(),$.jStorage.get("SGBattleStatsMinimizeMode",!0)&&BattleStatsMinimize(),0!=$.jStorage.get("SGModalWindowFuncMode",1)&&ModalWindowFunc($.jStorage.get("SGModalWindowFuncMode",1)),$.jStorage.get("SGSpectatorMode",!0)&&FakeSpectatorFunc(),$.jStorage.get("SGDemoralizatorMode",!1)&&DemoralizatorFunc()):0<=localUrl.indexOf(URLNewCitizen,0)?NewBruteForceCitizenForm():0<=localUrl.indexOf(URLMyMU,0)?$.jStorage.get("SGMUBroadcastMsg",!0)&&MUBrodcastMsg():0<=localUrl.indexOf(URLMUMain,0)?$.jStorage.get("SGMUBroadcastMsg",!0)&&MUBrodcastMsg():0<=localUrl.indexOf(URLMUStorage,0)?$.jStorage.get("SGMUTextStorageMode",!0)&&TextStorage():0<=localUrl.indexOf(URLCompany,0)?($.jStorage.get("SGCompanyRedesignMode",!0)&&companyImprovements(),addCompanyButtons()):0<=localUrl.indexOf(URLCompanyDetails,0)?$.jStorage.get("SGCompanyWorkResultsMode",!0)&&companyWorkResults():0<=localUrl.indexOf(URLCompanyAllWorkers,0)&&$.jStorage.get("SGCompanyAllWorkersMode",!0)&&companyAllWorkersPage())});